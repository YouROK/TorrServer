{"version":3,"sources":["utils/Hosts.js","utils/Utils.js","icons/index.jsx","components/DialogTorrentDetailsContent/customHooks.jsx","components/DialogTorrentDetailsContent/DialogHeader.jsx","style/colors.js","style/materialUISetup.js","components/DialogTorrentDetailsContent/TorrentCache/snakeSettings.js","components/DialogTorrentDetailsContent/TorrentCache/style.js","components/DialogTorrentDetailsContent/TorrentCache/index.jsx","components/DialogTorrentDetailsContent/TorrentCache/getShortCacheMap.js","components/DialogTorrentDetailsContent/Table/style.js","components/DialogTorrentDetailsContent/Table/index.jsx","components/DialogTorrentDetailsContent/style.js","components/DialogTorrentDetailsContent/DetailedView/style.js","components/DialogTorrentDetailsContent/StatisticsField.jsx","components/DialogTorrentDetailsContent/widgets/useGetWidgetColors.jsx","components/DialogTorrentDetailsContent/widgets/index.jsx","torrentStates.js","components/DialogTorrentDetailsContent/DetailedView/index.jsx","components/DialogTorrentDetailsContent/TorrentFunctions/style.js","components/DialogTorrentDetailsContent/TorrentFunctions/index.jsx","components/DialogTorrentDetailsContent/helpers.js","components/DialogTorrentDetailsContent/index.jsx","utils/useChangeLanguage.js","utils/usePreviousState.js","style/DialogStyles.js","components/Add/helpers.js","components/Add/style.js","components/Add/RightSideComponent.jsx","components/Add/LeftSideComponent.jsx","components/Add/AddDialog.jsx","components/TorrentCard/style.js","components/TorrentCard/index.jsx","components/App/style.js","components/TorrentList/style.js","components/TorrentList/NoServerConnection.jsx","components/TorrentList/AddFirstTorrent.jsx","components/TorrentList/index.jsx","components/Donate/DonateDialog.jsx","components/Donate/index.jsx","style/GlobalStyle.js","components/Add/index.jsx","components/Settings/style.js","components/Settings/defaultSettings.js","components/Settings/tabComponents.jsx","components/Settings/SliderInput.jsx","components/Settings/PrimarySettingsComponent.jsx","components/Settings/SecondarySettingsComponent.jsx","components/Settings/SettingsDialog.jsx","components/Settings/index.jsx","components/RemoveAll.jsx","components/About/style.js","components/About/LinkComponent.jsx","components/About/index.jsx","components/CloseServer.jsx","components/App/Sidebar.jsx","components/App/index.jsx","style/getStyledComponentsTheme.js","i18n.js","index.jsx"],"names":["window","location","protocol","hostname","port","torrserverHost","process","REACT_APP_SERVER_HOST","torrentsHost","viewedHost","settingsHost","streamHost","echoHost","humanizeSize","size","i","Math","floor","log","pow","toFixed","getPeerString","torrent","connected_seeders","active_peers","total_peers","removeRedundantCharacters","string","newString","forEach","el","leftBracketRegexFormula","leftBracketRegex","RegExp","leftBracketAmount","matchAll","length","rightBracketRegexFormula","rightBracketRegex","removeFormula","removeRegex","replace","hasThreeDotsAtTheEnd","match","trimmedString","trim","getTorrents","a","axios","post","action","data","Error","NoImageIcon","color","primary","useTheme","palette","main","height","width","fill","xmlns","xmlnsXlink","version","x","y","viewBox","enableBackground","xmlSpace","d","points","AddItemIcon","id","opacity","USBIcon","RAMIcon","TorrentIcon","secondaryColor","useUpdateCache","hash","useState","cache","setCache","componentIsMounted","useRef","timerID","useEffect","current","setInterval","updateCache","newCache","then","catch","clearInterval","useStyles","makeStyles","theme","appBar","position","title","marginLeft","spacing","flex","DialogHeader","onClose","onBack","t","useTranslation","classes","AppBar","className","Toolbar","IconButton","edge","onClick","aria-label","ArrowBack","Typography","variant","Button","autoFocus","themeColors","light","app","headerToggleColor","appSecondaryColor","sidebarBGColor","sidebarFillColor","torrentCard","accentCardColor","buttonBGColor","rgba","cardPrimaryColor","cardSecondaryColor","dialogTorrentDetailsContent","posterBGColor","gradientStartColor","gradientEndColor","chacheSectionBGColor","widgetFontColor","titleFontColor","subNameFontColor","torrentFilesSectionBGColor","detailedView","cacheSectionBGColor","addDialog","fontColor","notificationErrorBGColor","notificationSuccessBGColor","languageSwitchBGColor","languageSwitchFontColor","torrentFunctions","table","defaultPrimaryColor","defaultSecondaryColor","defaultTertiaryColor","settingsDialog","contentBG","footerBG","dark","mainColors","secondary","THEME_MODES","typography","fontFamily","lightTheme","createMuiTheme","type","snakeSettings","default","borderWidth","pieceSize","gapBetweenPieces","borderColor","completeColor","backgroundColor","progressColor","readerColor","rangeColor","mini","cacheMaxHeight","ScrollNotification","styled","div","SnakeWrapper","isMini","themeType","css","TorrentCache","shotCacheMap","dimensions","setDimensions","canvasRef","ctxRef","cacheMap","setCacheMap","PiecesCount","Pieces","Readers","map","Size","Length","newPiece","percentage","r","Reader","isReader","Start","End","isReaderRange","push","useCreateCacheMap","settingsTarget","useContext","DarkModeContext","isDarkMode","canvasWidth","pieceSizeWithGap","piecesInOneRow","preloadPiecesAmount","cacheMapWithoutEmptyBlocks","filter","getFullAmountOfBlocks","amountOfBlocks","amountOfBlocksToRenderInShortView","scalableAmountOfBlocksToRenderInShortView","extraBlocksAmount","max","extraEmptyBlocksForFillingLine","Array","getShortCacheMap","round","Capacity","PiecesLength","source","startingXPoint","ceil","canvas","getContext","ctx","clearRect","inProgress","isCompleted","currentRow","currentColumn","fixBlurStroke","requiredFix","lineWidth","fillStyle","snakeType","gradient","createLinearGradient","addColorStop","createGradient","strokeStyle","translate","fillRect","strokeRect","setTransform","bounds","onResize","measureRef","style","display","flexDirection","ref","memo","prev","next","isEqual","viewedPrimaryColor","viewedIndicator","TableStyle","ShortTableWrapper","ShortTable","isViewed","require","ptt","addHandler","Table","playableFileList","viewedFileList","selectedSeason","seasonAmount","preloadBuffer","fileId","fetch","getFileLink","path","encodeURIComponent","split","pop","fileHasEpisodeText","find","parse","episode","fileHasSeasonText","season","fileHasResolutionText","resolution","shouldDisplayFullFileName","includes","link","data-label","textDecoration","href","target","rel","text","DialogContentGrid","Poster","poster","MainSection","section","CacheSection","TorrentFilesSection","SectionSubName","mb","SectionTitle","SectionHeader","WidgetWrapper","WidgetFieldWrapper","WidgetFieldTitle","WidgetFieldIcon","bgColor","WidgetFieldValue","LoadingProgress","attrs","value","fullAmount","min","background","label","Divider","DetailedViewWidgetSection","DetailedViewCacheSection","StatisticsField","Icon","icon","iconBg","valueBg","LIGHT","DARK","colors","downloadSpeed","iconBGColor","valueBGColor","uploadSpeed","peers","piecesCount","piecesLength","status","useGetWidgetColors","widgetName","DownlodSpeedWidget","ArrowDownwardIcon","UploadSpeedWidget","ArrowUpwardIcon","PeersWidget","SwapVerticalCircleIcon","PiecesCountWidget","WidgetsIcon","PiecesLengthWidget","PhotoSizeSelectSmallIcon","StatusWidget","stat","values","BuildIcon","SizeWidget","ViewAgendaIcon","DetailedView","torrentSize","MainSectionButtonGroup","SmallLabel","TorrentFunctions","name","setViewedFileList","latestViewedFileId","latestViewedFile","isOnlyOnePlayableFile","latestViewedFileData","fullPlaylistLink","partialPlaylistLink","file_index","playableExtList","Loader","minHeight","placeItems","CircularProgress","DialogTorrentDetailsContent","closeDialog","isLoading","setIsLoading","isDetailedCacheView","setIsDetailedCacheView","setPlayableFileList","setSeasonAmount","setSelectedSeason","download_speed","upload_speed","torrent_size","torrentFileList","file_stats","settings","setSettings","useGetSettings","Filled","seasons","currentSeason","sort","b","fileName","filename","ext","toLowerCase","getExt","cacheLoaded","Object","entries","torrentLoaded","lst","itm","preloadSize","PreloadCache","bufferSize","getParsedTitle","newNameStringArr","torrentParsedName","year","newNameString","join","overflow","alt","src","marginTop","ButtonGroup","marginBottom","i18n","language","lang","changeLanguage","usePreviousState","Header","ButtonWrapper","getMoviePosters","movieName","url","get","params","api_key","REACT_APP_TMDB_API_KEY","include_image_language","query","results","poster_path","checkImageURL","mode","magnetRegex","hashRegex","torrentRegex","Content","isEditMode","RightSide","RightSideContainer","isHidden","notificationMessage","isError","LeftSide","LeftSideBottomSectionBasicStyles","LeftSideBottomSectionNoFile","isDragActive","LeftSideBottomSectionFileSelected","TorrentIconWrapper","CancelIconWrapper","IconWrapper","LeftSideTopSection","active","PosterWrapper","PosterSuggestions","PosterSuggestionsItem","ClearPosterButton","showbutton","PosterLanguageSwitch","RightSideComponent","setTitle","setPosterUrl","setIsPosterUrlCorrect","setIsUserInteractedWithPoster","setPosterList","isTorrentSourceCorrect","isHashAlreadyExists","parsedTitle","posterUrl","isPosterUrlCorrect","posterList","currentLang","posterSearchLanguage","setPosterSearchLanguage","posterSearch","removePoster","torrentSource","originalTorrentTitle","updateTitleFromSource","isCustomTitleEnabled","setIsCustomTitleEnabled","handleTitleChange","TextField","margin","fullWidth","disabled","InputProps","readOnly","onChange","onFocus","onBlur","helperText","endAdornment","InputAdornment","padding","CheckBox","slice","userChangesPosterUrl","newLanguage","shouldRefreshMainPoster","LeftSideComponent","setSelectedFile","setTorrentSource","selectedFile","isTorrentSourceActive","setIsTorrentSourceActive","useDropzone","onDrop","files","file","accept","getRootProps","getInputProps","inputProps","autoComplete","Cancel","AddDialog","handleClose","originalHash","originalTitle","originalName","originalPoster","setOriginalTorrentTitle","setParsedTitle","setIsTorrentSourceCorrect","setIsHashAlreadyExists","isUserInteractedWithPoster","useChangeLanguage","isSaving","setIsSaving","skipDebounce","setSkipDebounce","currentSourceHash","setCurrentSourceHash","torrents","useQuery","retry","refetchInterval","parseTorrent","remote","_","infoHash","allHashes","fullScreen","useMediaQuery","useCallback","parsingSource","callback","err","torrentName","nameOfFileInsideTorrent","newTitle","correctImage","useMemo","urlList","firstPoster","delayedPosterSearch","debounce","prevTorrentSourceState","prevTitleState","cancel","Dialog","open","maxWidth","minWidth","finally","FormData","append","save_to_db","TorrentCard","TorrentCardPoster","isPoster","TorrentCardButtons","TorrentCardDescription","StyledButton","button","Transition","forwardRef","props","Slide","direction","Torrent","isDetailedInfoOpened","setIsDetailedInfoOpened","isDeleteTorrentOpened","setIsDeleteTorrentOpened","breakpoints","down","closeDetailedInfo","closeDeleteTorrentAlert","key","titleStrings","parsedYear","parsedResolution","isEditDialogOpen","setIsEditDialogOpen","UnfoldMore","Edit","Close","Delete","TransitionComponent","DialogTitle","DialogActions","AppWrapper","CenteredGrid","AppHeader","AppSidebarStyle","isDrawerOpen","TorrentListWrapper","HeaderToggle","isButton","NoServerConnection","trigger","stroke","scale","AddFirstTorrent","isDialogOpen","setIsDialogOpen","TorrentList","isOffline","DonateDialog","aria-labelledby","DialogContent","List","ListItem","dangerouslySetInnerHTML","__html","DonateSnackbar","setOpen","snackbarOpen","setSnackbarOpen","disableSnackbar","localStorage","setItem","Snackbar","anchorOrigin","vertical","horizontal","message","marginRight","fontSize","createGlobalStyle","AddDialogButton","ListItemIcon","ListItemText","cacheBeforeReaderColor","cacheAfterReaderColor","SettingsHeader","FooterSection","PreloadCacheValue","MainSettingsContent","SecondarySettingsContent","StorageButton","small","selected","StorageIconWrapper","CacheStorageSelector","SettingSectionLabel","PreloadCachePercentage","preloadCachePercentage","CacheSize","ReaderReadAHead","UseDisk","UploadRateLimit","TorrentsSavePath","ConnectionsLimit","DhtConnectionLimit","DisableDHT","DisablePEX","DisableTCP","DisableUPNP","DisableUTP","DisableUpload","DownloadRateLimit","EnableDebug","EnableIPv6","ForceEncrypt","PeersListenPort","RemoveCacheOnDrop","RetrackersMode","Strategy","TorrentDisconnectTimeout","a11yProps","index","TabPanel","children","other","role","hidden","SliderInput","isProMode","setValue","sliderMin","sliderMax","inputMin","inputMax","step","onBlurCallback","Grid","container","alignItems","item","xs","Slider","newValue","Input","Number","CacheStorageLocationLabel","PrimarySettingsComponent","inputForm","cachePercentage","cacheSize","setCacheSize","setCachePercentage","setPreloadCachePercentage","updateSettings","preloadCacheSize","gridAutoFlow","FormControlLabel","control","Switch","checked","placeSelf","gridArea","SecondarySettingsComponent","InputLabel","htmlFor","Select","native","SettingsDialog","selectedTab","setSelectedTab","JSON","getItem","setIsProMode","sets","stringify","Boolean","isNaN","newProps","Checkbox","Tabs","indicatorColor","textColor","Tab","axis","onChangeIndex","dir","defaultSettings","SettingsDialogButton","RemoveAll","method","body","headers","Accept","res","json","torr","DialogWrapper","HeaderSection","ThanksSection","Section","LinkWrapper","isLink","LinkIcon","LinkComponent","GitHub","AboutDialog","torrServerVersion","setTorrServerVersion","CloseServer","PowerSettingsNew","Sidebar","setIsDonationDialogOpen","createContext","App","setIsDrawerOpen","isDonationDialogOpen","savedThemeMode","isSystemModeDark","setIsDarkMode","currentThemeMode","setCurrentThemeMode","muiTheme","useMaterialUITheme","updateThemeMode","changeLang","setIsOffline","onError","onSuccess","GlobalStyle","Provider","CssBaseline","Menu","noWrap","justifySelf","gridTemplateColumns","gap","Brightness5","Brightness4","BrightnessAuto","use","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","resources","en","translation","translationEN","ru","translationRU","queryClient","QueryClient","ReactDOM","render","QueryClientProvider","client","document","getElementById"],"mappings":"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","file":"static/js/main.80f3916d.chunk.js","sourcesContent":["const { protocol, hostname, port } = window.location\n\nlet torrserverHost = process.env.REACT_APP_SERVER_HOST || `${protocol}//${hostname}${port ? `:${port}` : ''}`\n\nexport const torrentsHost = () => `${torrserverHost}/torrents`\nexport const viewedHost = () => `${torrserverHost}/viewed`\nexport const cacheHost = () => `${torrserverHost}/cache`\nexport const torrentUploadHost = () => `${torrserverHost}/torrent/upload`\nexport const settingsHost = () => `${torrserverHost}/settings`\nexport const streamHost = () => `${torrserverHost}/stream`\nexport const shutdownHost = () => `${torrserverHost}/shutdown`\nexport const echoHost = () => `${torrserverHost}/echo`\nexport const playlistTorrHost = () => `${torrserverHost}/stream`\n\nexport const getTorrServerHost = () => torrserverHost\nexport const setTorrServerHost = host => {\n  torrserverHost = host\n}\n","import axios from 'axios'\n\nimport { torrentsHost } from './Hosts'\n\nexport function humanizeSize(size) {\n  if (!size) return ''\n  const i = Math.floor(Math.log(size) / Math.log(1024))\n  return `${(size / Math.pow(1024, i)).toFixed(2) * 1} ${['B', 'KB', 'MB', 'GB', 'TB'][i]}`\n}\n\nexport function getPeerString(torrent) {\n  if (!torrent || !torrent.connected_seeders) return null\n  return `[${torrent.connected_seeders}] ${torrent.active_peers} / ${torrent.total_peers}`\n}\n\nexport const shortenText = (text, sympolAmount) =>\n  text ? text.slice(0, sympolAmount) + (text.length > sympolAmount ? '' : '') : ''\n\nexport const removeRedundantCharacters = string => {\n  let newString = string\n  const brackets = [\n    ['(', ')'],\n    ['[', ']'],\n    ['{', '}'],\n  ]\n\n  brackets.forEach(el => {\n    const leftBracketRegexFormula = `\\\\${el[0]}`\n    const leftBracketRegex = new RegExp(leftBracketRegexFormula, 'g')\n    const leftBracketAmount = [...newString.matchAll(leftBracketRegex)].length\n    const rightBracketRegexFormula = `\\\\${el[1]}`\n    const rightBracketRegex = new RegExp(rightBracketRegexFormula, 'g')\n    const rightBracketAmount = [...newString.matchAll(rightBracketRegex)].length\n\n    if (leftBracketAmount !== rightBracketAmount) {\n      const removeFormula = `(\\\\${el[0]})(?!.*\\\\1).*`\n      const removeRegex = new RegExp(removeFormula, 'g')\n      newString = newString.replace(removeRegex, '')\n    }\n  })\n\n  const hasThreeDotsAtTheEnd = !!newString.match(/\\.{3}$/g)\n\n  const trimmedString = newString.replace(/[\\\\.| ]+$/g, '').trim()\n\n  return hasThreeDotsAtTheEnd ? `${trimmedString}..` : trimmedString\n}\n\nexport const getTorrents = async () => {\n  try {\n    const { data } = await axios.post(torrentsHost(), { action: 'list' })\n    return data\n  } catch (error) {\n    throw new Error(null)\n  }\n}\n","import { useTheme } from '@material-ui/core'\n\nexport const NoImageIcon = ({ color }) => {\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <svg\n      height='80px'\n      width='80px'\n      fill={color || primary}\n      xmlns='http://www.w3.org/2000/svg'\n      xmlnsXlink='http://www.w3.org/1999/xlink'\n      version='1.1'\n      x='0px'\n      y='0px'\n      viewBox='0 0 100 100'\n      enableBackground='new 0 0 100 100'\n      xmlSpace='preserve'\n    >\n      <g>\n        <path d='M18.293,93.801c0.066,0.376,0.284,0.718,0.597,0.937c0.313,0.219,0.708,0.307,1.085,0.241l70.058-12.353   c0.376-0.066,0.718-0.284,0.937-0.597c0.219-0.313,0.307-0.708,0.24-1.085l-9.502-53.891c-0.139-0.79-0.892-1.317-1.682-1.178   l-19.402,3.421L47.997,14.16c0.241-0.706,0.375-1.456,0.375-2.229c0-0.399-0.035-0.804-0.106-1.209C47.671,7.363,44.757,5,41.455,5   c-0.4,0-0.804,0.035-1.209,0.106h0c-3.359,0.595-5.723,3.509-5.723,6.812c0,0.4,0.035,0.804,0.106,1.209   c0.178,1.005,0.567,1.918,1.109,2.709l-6.875,19.061L9.968,38.228c-0.79,0.139-1.317,0.892-1.177,1.682L18.293,93.801z    M40.75,7.966L40.75,7.966c0.239-0.042,0.474-0.062,0.705-0.062c1.909,0,3.612,1.373,3.953,3.324v0   c0.042,0.238,0.062,0.473,0.062,0.704c0,1.908-1.373,3.612-3.323,3.953h0.001c-0.238,0.042-0.473,0.062-0.705,0.062   c-1.908,0-3.612-1.373-3.953-3.323c-0.042-0.238-0.062-0.473-0.062-0.705C37.427,10.01,38.799,8.306,40.75,7.966z M38.059,17.96   c1.012,0.569,2.17,0.89,3.383,0.89c0.399,0,0.804-0.034,1.208-0.106h0.001c1.48-0.263,2.766-0.976,3.743-1.974l10.935,13.108   L32.16,34.315L38.059,17.96z M29.978,37.648c0.136-0.004,0.268-0.029,0.396-0.07l29.75-5.246c0.134-0.006,0.266-0.027,0.395-0.07   l18.582-3.277l8.998,51.031L20.9,91.867l-8.998-51.032L29.978,37.648z' />\n        <path d='M49.984,75.561c0.809,0,1.627-0.065,2.449-0.199l0.001,0c7.425-1.213,12.701-7.627,12.701-14.919   c0-0.809-0.065-1.627-0.199-2.449c-1.213-7.425-7.626-12.701-14.919-12.701c-0.808,0-1.627,0.065-2.45,0.199   c-7.425,1.213-12.701,7.626-12.701,14.918c0,0.808,0.065,1.627,0.199,2.449C36.278,70.284,42.692,75.561,49.984,75.561z    M51.967,72.496c-0.668,0.109-1.33,0.161-1.983,0.161c-5.883,0-11.079-4.265-12.053-10.265c-0.109-0.668-0.161-1.33-0.161-1.983   c0-2.108,0.555-4.123,1.534-5.892l19.693,14.176C57.206,70.645,54.782,72.039,51.967,72.496z M48.034,48.357L48.034,48.357   c0.668-0.109,1.329-0.161,1.983-0.161c5.882,0,11.079,4.265,12.053,10.265c0.109,0.667,0.161,1.329,0.161,1.983   c0,2.109-0.556,4.127-1.536,5.897L41.001,52.163C42.791,50.21,45.217,48.814,48.034,48.357z' />\n        <polygon points='47.567,45.492 47.567,45.492 47.568,45.491  ' />\n      </g>\n    </svg>\n  )\n}\n\nexport const AddItemIcon = () => {\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <svg\n      height='100px'\n      width='100px'\n      fill={primary}\n      viewBox='0 0 452 452'\n      version='1.1'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <g id='#000000'>\n        <path\n          opacity='1.00'\n          d=' M 210.49 18.69 C 244.92 16.12 280.02 22.13 311.46 36.47 C 344.90 51.54 374.16 75.69 395.41 105.58 C 415.62 133.87 428.55 167.34 432.48 201.89 C 438.07 248.86 427.02 297.61 401.45 337.43 C 382.92 366.59 357.02 391.04 326.80 407.80 C 300.81 422.31 271.64 431.08 241.96 433.26 C 207.37 435.97 172.14 429.83 140.54 415.51 C 109.95 401.69 82.82 380.33 62.16 353.86 C 39.25 324.67 24.38 289.21 19.78 252.38 C 14.94 214.51 20.65 175.31 36.47 140.54 C 54.11 101.38 84.24 67.99 121.37 46.39 C 148.44 30.52 179.19 20.98 210.49 18.69 M 213.46 36.60 C 178.91 38.80 145.03 50.71 116.76 70.72 C 84.67 93.21 59.84 125.88 46.91 162.88 C 34.87 196.99 32.96 234.54 41.25 269.73 C 48.89 302.45 65.53 332.98 88.79 357.21 C 113.91 383.56 146.78 402.45 182.25 410.72 C 216.67 418.86 253.37 417.21 286.87 405.85 C 329.85 391.49 367.13 361.01 389.89 321.85 C 406.02 294.41 414.96 262.84 415.73 231.03 C 416.71 196.59 408.11 161.91 390.97 132.00 C 372.31 99.13 343.57 72.09 309.61 55.49 C 279.95 40.89 246.43 34.40 213.46 36.60 Z'\n        />\n        <path\n          opacity='1.00'\n          d=' M 217.02 117.63 C 223.01 117.45 228.99 117.45 234.98 117.63 C 235.16 150.72 234.93 183.81 235.09 216.89 C 268.18 217.03 301.28 216.82 334.38 216.99 C 334.57 222.99 334.57 229.00 334.38 235.01 C 301.28 235.18 268.18 234.97 235.09 235.11 C 234.93 268.19 235.16 301.28 234.98 334.37 C 228.99 334.55 223.00 334.55 217.02 334.37 C 216.84 301.28 217.07 268.19 216.92 235.11 C 183.82 234.97 150.72 235.17 117.62 235.01 C 117.43 229.00 117.43 222.99 117.62 216.99 C 150.72 216.82 183.82 217.03 216.91 216.89 C 217.07 183.81 216.84 150.72 217.02 117.63 Z'\n        />\n      </g>\n    </svg>\n  )\n}\n\nexport const USBIcon = ({ color, width }) => {\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <svg\n      width={width || '100%'}\n      height='100%'\n      viewBox='96.96632385253906 377.9800109863281 873.03369140625 310.9999694824219'\n      version='1.1'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 603.05 378.50 C 648.01 378.10 692.99 378.30 737.96 378.24 C 746.80 377.82 755.66 378.04 764.51 378.02 C 764.49 396.01 764.50 414.00 764.50 432.00 C 833.00 432.01 901.50 431.99 970.00 432.00 C 970.00 499.67 970.00 567.33 970.00 635.00 C 941.01 635.01 912.02 634.98 883.04 635.01 C 868.37 635.70 853.70 634.86 839.03 635.00 C 814.19 635.00 789.35 634.99 764.50 635.00 C 764.50 652.99 764.49 670.99 764.51 688.98 C 722.02 688.64 679.51 688.76 637.01 688.76 C 610.36 688.24 583.70 688.61 557.04 688.50 C 535.36 688.64 513.69 688.06 492.00 688.25 C 467.01 688.45 442.03 687.89 417.04 688.00 C 393.35 688.06 369.67 687.54 345.97 687.76 C 331.65 687.28 317.32 687.58 303.00 687.51 C 287.69 686.89 272.35 687.61 257.03 686.99 C 244.25 687.26 231.37 686.92 218.84 684.09 C 183.39 676.56 151.36 655.48 129.16 627.00 C 110.45 603.11 98.57 573.55 97.40 543.09 C 95.46 518.81 100.09 494.17 110.06 471.99 C 126.89 434.21 159.00 403.08 198.12 389.13 C 227.91 377.22 260.63 379.63 292.01 379.76 C 308.00 379.13 324.02 379.87 340.01 379.25 C 355.65 379.17 371.30 379.41 386.95 379.13 C 409.62 378.70 432.32 379.37 455.00 378.74 C 504.35 378.92 553.69 378.31 603.05 378.50 M 348.01 411.51 C 320.98 411.52 293.95 411.45 266.93 411.54 C 256.91 412.17 246.82 411.10 236.84 412.46 C 208.12 415.88 181.14 430.38 161.51 451.48 C 144.71 469.43 133.29 492.57 130.42 517.07 C 124.64 554.31 138.80 593.31 165.32 619.73 C 177.83 632.43 193.39 641.88 210.05 648.05 C 228.40 654.56 248.11 655.87 267.42 655.59 C 319.94 655.19 372.45 655.94 424.97 655.75 C 450.32 655.57 475.67 656.17 501.02 656.00 C 525.32 656.12 549.63 655.73 573.92 656.26 C 626.62 656.05 679.30 656.63 732.00 656.50 C 732.00 574.50 732.00 492.50 732.00 410.51 C 689.66 410.38 647.34 410.94 605.01 410.75 C 587.68 410.55 570.37 411.13 553.05 411.00 C 526.36 411.00 499.67 411.01 472.98 411.00 C 431.33 411.69 389.65 410.81 348.01 411.51 M 764.49 464.27 C 764.51 510.42 764.51 556.58 764.49 602.73 C 822.24 602.77 879.99 602.74 937.74 602.75 C 938.25 556.59 937.90 510.41 937.99 464.25 C 880.16 464.27 822.32 464.23 764.49 464.27 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 842.49 484.02 C 853.57 483.79 864.63 484.32 875.71 484.25 C 876.25 495.35 875.68 506.46 875.04 517.54 C 864.40 517.59 853.77 516.92 843.13 517.38 C 842.74 516.32 842.40 515.20 842.48 514.06 C 842.50 504.04 842.50 494.03 842.49 484.02 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 287.02 517.49 C 345.02 517.51 403.02 517.49 461.02 517.50 C 499.18 517.57 537.34 517.29 575.49 517.75 C 575.51 528.25 575.51 538.75 575.49 549.25 C 531.01 549.74 486.52 549.41 442.04 549.50 C 390.37 549.51 338.69 549.49 287.02 549.51 C 286.99 538.84 286.99 528.16 287.02 517.49 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 842.78 549.74 C 853.53 549.91 864.26 549.51 875.01 549.44 C 875.73 560.52 876.27 571.65 875.71 582.75 C 864.63 582.80 853.57 583.17 842.49 582.99 C 842.69 571.91 842.12 560.80 842.78 549.74 Z'\n      />\n    </svg>\n  )\n}\n\nexport const RAMIcon = ({ color, width }) => {\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <svg\n      width={width || '100%'}\n      height='100%'\n      viewBox='13.928732872009277 69.97769927978516 172.15252685546875 60.067893981933594'\n      version='1.1'\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 18.20 70.32 C 19.46 70.07 20.73 69.96 22.01 69.98 C 74.36 70.03 126.72 69.97 179.08 70.01 C 182.16 69.72 185.50 71.74 185.82 74.99 C 186.15 79.61 186.20 84.29 185.78 88.91 C 183.66 90.31 179.87 90.73 180.00 93.99 C 179.86 97.27 183.68 97.69 185.79 99.12 C 186.27 107.07 185.91 115.06 185.99 123.03 C 186.29 126.14 184.25 129.52 180.97 129.83 C 175.33 130.27 169.65 129.88 164.00 130.00 C 147.71 129.85 131.39 130.31 115.12 129.78 C 112.92 127.53 114.51 123.74 113.95 120.86 C 114.67 118.55 111.27 116.64 110.24 119.19 C 109.73 122.42 110.24 125.71 109.79 128.95 C 108.65 130.43 106.57 129.83 104.96 130.03 C 76.94 129.95 48.93 130.04 20.91 129.99 C 17.47 130.37 13.95 127.70 14.07 124.10 C 14.02 115.76 13.75 107.39 14.22 99.07 C 16.33 97.68 20.10 97.27 20.00 94.03 C 20.17 90.71 16.28 90.35 14.20 88.85 C 13.80 84.56 13.92 80.24 14.07 75.94 C 14.03 73.43 15.75 70.97 18.20 70.32 M 18.23 75.15 C 17.73 78.78 18.05 82.46 18.02 86.11 C 21.05 87.67 24.20 90.21 23.99 94.00 C 24.20 97.79 21.03 100.31 18.01 101.89 C 18.15 109.55 17.67 117.24 18.22 124.87 C 18.45 125.10 18.90 125.56 19.13 125.78 C 26.06 126.33 33.03 125.84 39.98 126.00 C 39.99 123.36 40.01 120.72 40.09 118.08 C 62.07 117.87 84.05 118.10 106.03 117.96 C 107.62 116.17 109.32 113.83 112.02 114.00 C 114.70 113.85 116.37 116.19 117.96 117.96 C 131.94 118.09 145.93 117.88 159.91 118.08 C 159.98 120.72 160.01 123.36 160.02 126.00 C 166.94 125.83 173.90 126.34 180.80 125.78 C 181.05 125.57 181.54 125.14 181.78 124.93 C 182.32 117.28 181.85 109.57 181.99 101.90 C 178.96 100.31 175.78 97.79 176.01 93.99 C 175.79 90.20 178.94 87.66 181.98 86.11 C 181.94 82.47 182.27 78.80 181.77 75.19 C 181.16 73.66 179.34 74.17 178.06 73.99 C 126.04 74.00 74.01 74.01 21.99 73.99 C 20.69 74.16 18.91 73.67 18.23 75.15 M 42.00 120.00 C 42.00 122.00 42.00 124.00 42.00 126.00 C 43.33 126.00 44.67 126.00 46.00 126.00 C 46.00 124.00 46.00 122.00 46.00 120.00 C 44.67 120.00 43.33 120.00 42.00 120.00 M 48.00 120.00 C 48.00 122.00 48.00 124.00 48.00 126.00 C 49.33 126.00 50.67 126.00 52.00 126.00 C 52.00 124.00 52.00 122.00 52.00 120.00 C 50.67 120.00 49.33 120.00 48.00 120.00 M 54.00 120.00 C 54.00 122.00 54.00 124.00 54.00 126.00 C 55.33 126.00 56.67 126.00 58.00 126.00 C 58.00 124.00 58.00 122.00 58.00 120.00 C 56.67 120.00 55.33 120.00 54.00 120.00 M 60.00 120.00 C 60.00 122.00 60.00 124.00 60.00 126.00 C 61.33 126.00 62.67 126.00 64.00 126.00 C 64.00 124.00 64.00 122.00 64.00 120.00 C 62.67 120.00 61.33 120.00 60.00 120.00 M 66.00 120.00 C 66.00 122.00 66.00 124.00 66.00 126.00 C 67.33 126.00 68.67 126.00 70.00 126.00 C 70.00 124.00 70.00 122.00 70.00 120.00 C 68.67 120.00 67.33 120.00 66.00 120.00 M 72.00 120.00 C 72.00 122.00 72.00 124.00 72.00 126.00 C 73.33 126.00 74.67 126.00 76.00 126.00 C 76.00 124.00 76.00 122.00 76.00 120.00 C 74.67 120.00 73.33 120.00 72.00 120.00 M 78.00 120.00 C 78.00 122.00 78.00 124.00 78.00 126.00 C 79.33 126.00 80.67 126.00 82.00 126.00 C 82.00 124.00 82.00 122.00 82.00 120.00 C 80.67 120.00 79.33 120.00 78.00 120.00 M 84.00 120.00 C 84.00 122.00 84.00 124.00 84.00 126.00 C 85.33 126.00 86.67 126.00 88.00 126.00 C 88.00 124.00 88.00 122.00 88.00 120.00 C 86.67 120.00 85.33 120.00 84.00 120.00 M 90.00 120.00 C 90.00 122.00 90.00 124.00 90.00 126.00 C 91.33 126.00 92.67 126.00 94.00 126.00 C 94.00 124.00 94.00 122.00 94.00 120.00 C 92.67 120.00 91.33 120.00 90.00 120.00 M 96.00 120.00 C 96.00 122.00 96.00 124.00 96.00 126.00 C 97.33 126.00 98.67 126.00 100.00 126.00 C 100.00 124.00 100.00 122.00 100.00 120.00 C 98.67 120.00 97.33 120.00 96.00 120.00 M 102.00 120.00 C 102.00 122.00 102.00 124.00 102.00 126.00 C 103.33 126.00 104.67 126.00 106.00 126.00 C 106.00 124.00 106.00 122.00 106.00 120.00 C 104.67 120.00 103.33 120.00 102.00 120.00 M 118.00 120.00 C 118.00 122.00 118.00 124.00 118.00 126.00 C 119.33 126.00 120.67 126.00 122.00 126.00 C 122.00 124.00 122.00 122.00 122.00 120.00 C 120.67 120.00 119.33 120.00 118.00 120.00 M 124.00 120.00 C 124.00 122.00 124.00 124.00 124.00 126.00 C 125.33 126.00 126.67 126.00 128.00 126.00 C 128.00 124.00 128.00 122.00 128.00 120.00 C 126.67 120.00 125.33 120.00 124.00 120.00 M 130.00 120.00 C 130.00 122.00 130.00 124.00 130.00 126.00 C 131.33 126.00 132.67 126.00 134.00 126.00 C 134.00 124.00 134.00 122.00 134.00 120.00 C 132.67 120.00 131.33 120.00 130.00 120.00 M 136.00 120.00 C 136.00 122.00 136.00 124.00 136.00 126.00 C 137.33 126.00 138.67 126.00 140.00 126.00 C 140.00 124.00 140.00 122.00 140.00 120.00 C 138.67 120.00 137.33 120.00 136.00 120.00 M 142.00 120.00 C 142.00 122.00 142.00 124.00 142.00 126.00 C 143.33 126.00 144.66 126.00 146.00 126.00 C 146.00 124.00 146.00 122.00 146.00 120.00 C 144.67 120.00 143.33 120.00 142.00 120.00 M 148.00 120.00 C 148.00 122.00 148.00 124.00 148.00 126.00 C 149.33 126.00 150.66 126.00 152.00 126.00 C 152.00 124.00 152.00 122.00 152.00 120.00 C 150.67 120.00 149.33 120.00 148.00 120.00 M 154.00 120.00 C 154.00 122.00 154.00 124.00 154.00 126.00 C 155.33 126.00 156.66 126.00 158.00 126.00 C 158.00 124.00 158.00 122.00 158.00 120.00 C 156.67 120.00 155.33 120.00 154.00 120.00 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 30.03 81.93 C 29.85 80.12 30.82 77.95 32.93 78.11 C 37.91 77.93 42.93 77.74 47.89 78.25 C 50.98 79.21 49.68 83.33 50.10 85.77 C 49.59 85.78 48.57 85.80 48.06 85.80 C 48.01 83.89 47.96 81.98 47.90 80.08 C 42.62 79.96 37.35 79.96 32.08 80.08 C 31.95 89.36 31.95 98.64 32.08 107.91 C 37.36 108.05 42.64 108.05 47.92 107.91 C 48.02 104.01 48.01 100.11 48.02 96.21 C 48.51 96.21 49.48 96.21 49.97 96.20 C 49.93 100.09 50.29 104.01 49.76 107.87 C 49.40 110.05 46.77 109.95 45.09 110.01 C 40.74 109.96 36.36 110.29 32.04 109.74 C 29.91 109.31 30.07 106.74 29.99 105.08 C 30.02 97.37 29.93 89.65 30.03 81.93 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 56.08 78.25 C 61.33 77.80 66.67 77.79 71.92 78.25 C 74.45 78.84 73.88 82.03 74.03 83.96 C 73.88 91.66 74.20 99.37 73.89 107.07 C 73.99 110.35 68.80 111.17 67.40 108.44 C 68.91 108.19 70.43 107.96 71.95 107.75 C 72.01 98.53 72.08 89.30 71.91 80.08 C 66.64 79.96 61.36 79.96 56.08 80.08 C 55.95 89.35 55.95 98.63 56.08 107.90 C 58.65 107.98 61.23 108.01 63.80 108.04 C 63.80 108.54 63.78 109.52 63.78 110.02 C 60.75 109.51 55.74 111.45 54.25 107.89 C 53.63 99.96 54.19 91.96 53.97 84.00 C 54.13 82.06 53.53 78.84 56.08 78.25 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 79.38 78.49 C 84.51 77.49 89.88 78.03 95.10 78.12 C 97.17 77.98 98.14 80.11 97.97 81.89 C 98.04 89.96 98.04 98.04 97.97 106.11 C 98.13 107.87 97.20 109.99 95.14 109.88 C 90.11 110.08 85.02 110.27 80.01 109.73 C 77.91 109.26 78.05 106.71 77.99 105.04 C 77.99 97.70 77.99 90.35 77.99 83.01 C 78.12 81.47 77.82 79.41 79.38 78.49 M 80.08 80.08 C 79.95 89.36 79.95 98.64 80.08 107.92 C 85.36 108.04 90.64 108.04 95.92 107.92 C 96.05 98.64 96.05 89.36 95.92 80.08 C 90.64 79.96 85.36 79.96 80.08 80.08 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 103.34 78.52 C 108.47 77.46 113.88 78.05 119.12 78.12 C 121.20 77.99 122.14 80.13 121.97 81.91 C 122.04 89.97 122.04 98.04 121.97 106.10 C 122.14 107.87 121.19 110.00 119.12 109.88 C 114.37 110.13 109.59 110.13 104.85 109.88 C 102.80 109.99 101.86 107.88 102.03 106.13 C 101.92 98.40 102.03 90.66 101.99 82.93 C 102.13 81.44 101.84 79.43 103.34 78.52 M 104.08 80.08 C 103.95 89.36 103.95 98.64 104.08 107.92 C 109.36 108.05 114.64 108.04 119.92 107.92 C 120.06 98.64 120.05 89.36 119.92 80.08 C 114.64 79.96 109.36 79.95 104.08 80.08 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 127.43 78.45 C 131.88 77.51 136.52 78.12 141.04 77.99 C 143.01 77.87 145.98 78.22 145.88 80.86 C 146.19 88.89 145.92 96.94 146.01 104.98 C 145.93 106.67 146.12 109.28 143.96 109.74 C 141.40 110.19 138.79 109.99 136.21 110.02 C 136.21 109.52 136.21 108.53 136.21 108.04 C 138.78 108.01 141.35 107.98 143.92 107.91 C 144.05 98.63 144.06 89.35 143.92 80.08 C 138.64 79.96 133.36 79.96 128.09 80.08 C 128.02 82.64 127.99 85.21 127.96 87.78 C 127.47 87.79 126.48 87.79 125.99 87.79 C 126.38 84.77 124.90 80.72 127.43 78.45 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 151.38 78.48 C 155.82 77.48 160.48 78.14 165.01 77.99 C 167.01 77.85 170.02 78.25 169.89 80.92 C 170.18 88.94 169.92 96.98 170.01 105.01 C 170.13 107.00 169.77 109.99 167.12 109.88 C 162.10 110.07 157.02 110.27 152.02 109.74 C 149.89 109.27 150.05 106.67 149.99 104.99 C 149.99 97.64 149.99 90.30 149.99 82.95 C 150.12 81.43 149.84 79.39 151.38 78.48 M 152.08 80.08 C 151.95 89.36 151.95 98.64 152.08 107.92 C 157.36 108.04 162.64 108.04 167.92 107.92 C 168.05 98.64 168.05 89.36 167.92 80.08 C 162.64 79.96 157.36 79.96 152.08 80.08 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 48.01 88.19 C 48.50 88.19 49.49 88.19 49.99 88.19 C 49.98 90.06 49.98 91.92 49.99 93.78 C 49.49 93.79 48.51 93.79 48.01 93.79 C 48.01 91.92 48.01 90.06 48.01 88.19 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 126.01 92.19 C 126.51 92.19 127.49 92.19 127.99 92.19 C 127.98 94.06 127.98 95.93 127.98 97.80 C 127.49 97.79 126.50 97.78 126.01 97.78 C 126.01 95.91 126.01 94.05 126.01 92.19 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 125.98 100.19 C 126.48 100.19 127.47 100.19 127.96 100.19 C 127.99 102.75 128.02 105.32 128.08 107.88 C 129.98 107.95 131.89 108.01 133.81 108.07 C 133.80 108.57 133.78 109.59 133.77 110.10 C 131.39 109.71 128.07 110.79 126.45 108.53 C 125.66 105.83 126.07 102.96 125.98 100.19 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 24.41 112.66 C 27.59 110.67 32.28 113.20 32.00 117.04 C 32.18 120.52 28.24 123.02 25.11 121.66 C 21.33 120.42 20.93 114.50 24.41 112.66 M 26.15 114.12 C 24.25 114.47 23.50 116.93 24.38 118.50 C 25.45 120.81 29.45 120.37 29.89 117.81 C 30.58 115.59 28.37 113.39 26.15 114.12 Z'\n      />\n      <path\n        fill={color || primary}\n        opacity='1.00'\n        d=' M 170.48 112.62 C 173.67 110.70 178.29 113.25 178.00 117.06 C 178.16 120.55 174.19 123.04 171.06 121.64 C 167.28 120.35 166.95 114.41 170.48 112.62 M 172.11 114.13 C 169.72 114.60 169.28 118.30 171.30 119.51 C 173.13 120.90 176.17 119.39 175.97 117.02 C 176.16 114.97 173.98 113.54 172.11 114.13 Z'\n      />\n    </svg>\n  )\n}\n\nexport const TorrentIcon = () => {\n  const primary = useTheme().palette.primary.main\n  const secondaryColor = primary === '#00a572' ? '#74c39c' : '#4a5255'\n\n  return (\n    <svg width='150px' height='150px' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg'>\n      <g id={primary}>\n        <path\n          fill={primary}\n          opacity='1.00'\n          d=' M 102.41 0.00 L 319.87 0.00 C 320.21 29.68 319.87 59.37 320.04 89.05 C 320.29 97.32 323.88 105.47 329.94 111.12 C 336.01 117.07 344.56 120.18 353.01 120.01 C 382.02 119.87 411.04 120.22 440.05 119.83 C 439.94 236.88 440.04 353.93 440.00 470.98 C 440.01 478.16 440.50 485.68 437.47 492.41 C 432.79 503.85 421.05 511.80 408.71 512.00 L 103.28 512.00 C 90.95 511.79 79.20 503.84 74.53 492.42 C 72.06 486.96 71.87 480.87 71.99 474.97 C 72.01 327.63 71.99 180.30 72.00 32.96 C 71.95 27.61 73.03 22.22 75.52 17.46 C 80.55 7.39 91.19 0.57 102.41 0.00 M 360.00 382.07 C 358.69 383.73 359.01 385.99 358.90 387.97 C 358.95 396.36 358.91 404.75 358.93 413.14 C 352.50 403.51 346.13 393.83 339.77 384.16 C 338.65 382.47 337.13 380.65 334.92 380.63 C 331.97 380.41 329.13 382.87 329.22 385.89 C 328.94 396.58 329.24 407.28 329.08 417.98 C 329.14 420.43 328.85 422.98 329.54 425.38 C 330.75 429.14 337.11 428.63 337.54 424.63 C 338.19 415.09 337.55 405.51 337.83 395.95 C 343.71 404.78 349.41 413.73 355.26 422.58 C 356.92 424.93 358.74 427.96 362.00 428.00 C 365.02 428.51 367.54 425.83 367.40 422.90 C 367.55 411.27 367.39 399.62 367.48 387.99 C 367.40 386.11 367.63 384.06 366.61 382.38 C 365.24 380.16 361.58 380.00 360.00 382.07 M 100.79 382.81 C 98.94 384.82 100.19 388.63 103.01 388.89 C 106.91 389.29 110.85 388.97 114.77 389.07 C 114.77 399.73 114.78 410.39 114.75 421.05 C 114.76 423.37 114.89 426.34 117.28 427.52 C 119.95 429.02 123.67 427.14 123.86 424.04 C 124.22 412.40 123.84 400.72 124.04 389.07 C 128.25 388.87 132.57 389.54 136.71 388.62 C 140.15 387.40 139.25 381.72 135.61 381.56 C 126.10 381.14 116.55 381.57 107.03 381.37 C 104.95 381.53 102.34 381.06 100.79 382.81 M 156.46 381.58 C 150.26 383.15 145.11 388.05 143.12 394.11 C 140.49 401.86 140.79 410.83 144.81 418.06 C 151.07 429.05 167.20 430.79 177.27 424.26 C 183.48 420.06 186.24 412.28 186.28 405.03 C 186.43 398.11 184.59 390.56 179.19 385.85 C 173.03 380.52 164.12 379.62 156.46 381.58 M 197.74 381.67 C 195.24 381.99 194.12 384.61 194.23 386.87 C 194.06 397.92 194.27 408.97 194.15 420.02 C 194.24 422.43 193.92 425.36 195.97 427.11 C 198.62 429.25 203.28 427.47 203.31 423.89 C 203.66 418.45 203.32 412.99 203.49 407.54 C 206.76 407.72 210.68 407.24 213.15 409.89 C 217.60 414.61 220.01 420.80 223.85 425.97 C 225.63 428.66 230.20 428.72 231.83 425.86 C 232.87 424.27 231.80 422.43 231.24 420.89 C 228.63 415.38 225.17 409.99 220.02 406.56 C 223.42 405.53 227.11 404.31 229.29 401.31 C 233.14 395.94 231.83 387.34 226.14 383.76 C 221.99 381.01 216.77 381.52 212.04 381.39 C 207.28 381.52 202.48 381.08 197.74 381.67 M 240.23 386.91 C 240.19 398.28 240.20 409.66 240.22 421.03 C 240.25 423.12 240.14 425.65 241.97 427.09 C 244.58 429.23 249.25 427.52 249.33 423.98 C 249.76 418.50 249.34 413.00 249.49 407.51 C 252.77 407.64 256.62 407.29 259.13 409.85 C 263.88 414.69 266.10 421.38 270.41 426.55 C 272.74 429.20 278.48 428.00 278.28 424.04 C 276.28 417.09 271.87 410.81 266.09 406.46 C 269.75 405.55 273.64 404.05 275.74 400.71 C 278.91 395.49 277.81 387.82 272.73 384.18 C 268.85 381.14 263.64 381.44 259.00 381.41 C 254.02 381.52 249.02 381.13 244.05 381.58 C 241.41 381.77 240.05 384.51 240.23 386.91 M 286.38 386.01 C 286.17 397.35 286.39 408.70 286.27 420.04 C 286.31 422.30 286.17 425.31 288.52 426.53 C 291.20 427.60 294.20 427.07 297.03 427.21 C 304.36 427.04 311.73 427.52 319.04 426.95 C 322.44 426.37 322.43 420.75 319.05 420.15 C 311.25 419.44 303.38 420.13 295.56 419.82 C 295.59 415.47 295.58 411.12 295.58 406.78 C 302.60 406.71 309.65 407.09 316.66 406.54 C 320.07 405.84 319.57 399.91 315.98 399.96 C 309.20 399.54 302.39 399.95 295.59 399.80 C 295.57 396.05 295.57 392.30 295.58 388.55 C 303.03 388.43 310.50 388.74 317.94 388.37 C 321.67 388.25 321.80 381.95 318.11 381.66 C 309.41 381.03 300.65 381.57 291.93 381.42 C 289.16 381.15 286.27 383.00 286.38 386.01 M 375.06 381.95 C 372.19 383.34 372.77 388.27 375.95 388.84 C 379.96 389.33 384.02 388.96 388.05 389.08 C 387.92 400.08 388.05 411.07 387.99 422.07 C 387.75 424.61 389.07 427.71 391.95 427.92 C 394.85 428.51 397.33 425.86 397.14 423.05 C 397.37 411.73 397.16 400.40 397.23 389.08 C 401.42 388.89 405.69 389.52 409.82 388.64 C 413.41 387.46 412.48 381.48 408.64 381.52 C 400.79 381.23 392.93 381.50 385.08 381.39 C 381.74 381.50 378.31 381.05 375.06 381.95 Z'\n        />\n        <path\n          fill={primary}\n          opacity='1.00'\n          d=' M 160.39 388.45 C 164.79 387.33 170.01 388.38 173.03 391.97 C 176.12 395.52 177.00 400.46 176.87 405.04 C 176.76 409.47 175.56 414.16 172.29 417.34 C 167.50 421.98 158.82 421.68 154.58 416.43 C 150.59 411.44 150.26 404.45 151.51 398.43 C 152.46 393.85 155.68 389.57 160.39 388.45 Z'\n        />\n        <path\n          fill={primary}\n          opacity='1.00'\n          d=' M 203.47 388.42 C 208.28 388.55 213.18 387.93 217.93 388.93 C 222.82 390.10 223.71 398.14 218.81 399.89 C 213.88 401.57 208.52 400.89 203.40 400.90 C 203.44 396.73 203.45 392.57 203.47 388.42 Z'\n        />\n        <path\n          fill={primary}\n          opacity='1.00'\n          d=' M 249.45 388.38 C 254.29 388.56 259.22 387.96 264.00 388.94 C 268.52 390.07 269.67 397.04 265.66 399.44 C 260.63 401.83 254.85 400.80 249.47 400.94 C 249.51 396.75 249.48 392.57 249.45 388.38 Z'\n        />\n      </g>\n      <g id={secondaryColor}>\n        <path\n          fill={secondaryColor}\n          opacity='1.00'\n          d=' M 319.87 0.00 L 320.20 0.00 C 360.20 39.89 400.19 79.79 440.05 119.83 C 411.04 120.22 382.02 119.87 353.01 120.01 C 344.56 120.18 336.01 117.07 329.94 111.12 C 323.88 105.47 320.29 97.32 320.04 89.05 C 319.87 59.37 320.21 29.68 319.87 0.00 Z'\n        />\n      </g>\n      <g id='#fdfdfd'>\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 360.00 382.07 C 361.58 380.00 365.24 380.16 366.61 382.38 C 367.63 384.06 367.40 386.11 367.48 387.99 C 367.39 399.62 367.55 411.27 367.40 422.90 C 367.54 425.83 365.02 428.51 362.00 428.00 C 358.74 427.96 356.92 424.93 355.26 422.58 C 349.41 413.73 343.71 404.78 337.83 395.95 C 337.55 405.51 338.19 415.09 337.54 424.63 C 337.11 428.63 330.75 429.14 329.54 425.38 C 328.85 422.98 329.14 420.43 329.08 417.98 C 329.24 407.28 328.94 396.58 329.22 385.89 C 329.13 382.87 331.97 380.41 334.92 380.63 C 337.13 380.65 338.65 382.47 339.77 384.16 C 346.13 393.83 352.50 403.51 358.93 413.14 C 358.91 404.75 358.95 396.36 358.90 387.97 C 359.01 385.99 358.69 383.73 360.00 382.07 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 100.79 382.81 C 102.34 381.06 104.95 381.53 107.03 381.37 C 116.55 381.57 126.10 381.14 135.61 381.56 C 139.25 381.72 140.15 387.40 136.71 388.62 C 132.57 389.54 128.25 388.87 124.04 389.07 C 123.84 400.72 124.22 412.40 123.86 424.04 C 123.67 427.14 119.95 429.02 117.28 427.52 C 114.89 426.34 114.76 423.37 114.75 421.05 C 114.78 410.39 114.77 399.73 114.77 389.07 C 110.85 388.97 106.91 389.29 103.01 388.89 C 100.19 388.63 98.94 384.82 100.79 382.81 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 156.46 381.58 C 164.12 379.62 173.03 380.52 179.19 385.85 C 184.59 390.56 186.43 398.11 186.28 405.03 C 186.24 412.28 183.48 420.06 177.27 424.26 C 167.20 430.79 151.07 429.05 144.81 418.06 C 140.79 410.83 140.49 401.86 143.12 394.11 C 145.11 388.05 150.26 383.15 156.46 381.58 M 160.39 388.45 C 155.68 389.57 152.46 393.85 151.51 398.43 C 150.26 404.45 150.59 411.44 154.58 416.43 C 158.82 421.68 167.50 421.98 172.29 417.34 C 175.56 414.16 176.76 409.47 176.87 405.04 C 177.00 400.46 176.12 395.52 173.03 391.97 C 170.01 388.38 164.79 387.33 160.39 388.45 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 197.74 381.67 C 202.48 381.08 207.28 381.52 212.04 381.39 C 216.77 381.52 221.99 381.01 226.14 383.76 C 231.83 387.34 233.14 395.94 229.29 401.31 C 227.11 404.31 223.42 405.53 220.02 406.56 C 225.17 409.99 228.63 415.38 231.24 420.89 C 231.80 422.43 232.87 424.27 231.83 425.86 C 230.20 428.72 225.63 428.66 223.85 425.97 C 220.01 420.80 217.60 414.61 213.15 409.89 C 210.68 407.24 206.76 407.72 203.49 407.54 C 203.32 412.99 203.66 418.45 203.31 423.89 C 203.28 427.47 198.62 429.25 195.97 427.11 C 193.92 425.36 194.24 422.43 194.15 420.02 C 194.27 408.97 194.06 397.92 194.23 386.87 C 194.12 384.61 195.24 381.99 197.74 381.67 M 203.47 388.42 C 203.45 392.57 203.44 396.73 203.40 400.90 C 208.52 400.89 213.88 401.57 218.81 399.89 C 223.71 398.14 222.82 390.10 217.93 388.93 C 213.18 387.93 208.28 388.55 203.47 388.42 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 240.23 386.91 C 240.05 384.51 241.41 381.77 244.05 381.58 C 249.02 381.13 254.02 381.52 259.00 381.41 C 263.64 381.44 268.85 381.14 272.73 384.18 C 277.81 387.82 278.91 395.49 275.74 400.71 C 273.64 404.05 269.75 405.55 266.09 406.46 C 271.87 410.81 276.28 417.09 278.28 424.04 C 278.48 428.00 272.74 429.20 270.41 426.55 C 266.10 421.38 263.88 414.69 259.13 409.85 C 256.62 407.29 252.77 407.64 249.49 407.51 C 249.34 413.00 249.76 418.50 249.33 423.98 C 249.25 427.52 244.58 429.23 241.97 427.09 C 240.14 425.65 240.25 423.12 240.22 421.03 C 240.20 409.66 240.19 398.28 240.23 386.91 M 249.45 388.38 C 249.48 392.57 249.51 396.75 249.47 400.94 C 254.85 400.80 260.63 401.83 265.66 399.44 C 269.67 397.04 268.52 390.07 264.00 388.94 C 259.22 387.96 254.29 388.56 249.45 388.38 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 286.38 386.01 C 286.27 383.00 289.16 381.15 291.93 381.42 C 300.65 381.57 309.41 381.03 318.11 381.66 C 321.80 381.95 321.67 388.25 317.94 388.37 C 310.50 388.74 303.03 388.43 295.58 388.55 C 295.57 392.30 295.57 396.05 295.59 399.80 C 302.39 399.95 309.20 399.54 315.98 399.96 C 319.57 399.91 320.07 405.84 316.66 406.54 C 309.65 407.09 302.60 406.71 295.58 406.78 C 295.58 411.12 295.59 415.47 295.56 419.82 C 303.38 420.13 311.25 419.44 319.05 420.15 C 322.43 420.75 322.44 426.37 319.04 426.95 C 311.73 427.52 304.36 427.04 297.03 427.21 C 294.20 427.07 291.20 427.60 288.52 426.53 C 286.17 425.31 286.31 422.30 286.27 420.04 C 286.39 408.70 286.17 397.35 286.38 386.01 Z'\n        />\n        <path\n          fill='#fdfdfd'\n          opacity='1.00'\n          d=' M 375.06 381.95 C 378.31 381.05 381.74 381.50 385.08 381.39 C 392.93 381.50 400.79 381.23 408.64 381.52 C 412.48 381.48 413.41 387.46 409.82 388.64 C 405.69 389.52 401.42 388.89 397.23 389.08 C 397.16 400.40 397.37 411.73 397.14 423.05 C 397.33 425.86 394.85 428.51 391.95 427.92 C 389.07 427.71 387.75 424.61 387.99 422.07 C 388.05 411.07 387.92 400.08 388.05 389.08 C 384.02 388.96 379.96 389.33 375.95 388.84 C 372.77 388.27 372.19 383.34 375.06 381.95 Z'\n        />\n      </g>\n    </svg>\n  )\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { cacheHost, settingsHost } from 'utils/Hosts'\nimport axios from 'axios'\n\nexport const useUpdateCache = hash => {\n  const [cache, setCache] = useState({})\n  const componentIsMounted = useRef(true)\n  const timerID = useRef(null)\n\n  useEffect(\n    () => () => {\n      // this function is required to notify \"updateCache\" when NOT to make state update\n      componentIsMounted.current = false\n    },\n    [],\n  )\n\n  useEffect(() => {\n    if (hash) {\n      timerID.current = setInterval(() => {\n        const updateCache = newCache => componentIsMounted.current && setCache(newCache)\n\n        axios\n          .post(cacheHost(), { action: 'get', hash })\n          .then(({ data }) => updateCache(data))\n          // empty cache if error\n          .catch(() => updateCache({}))\n      }, 100)\n    } else clearInterval(timerID.current)\n\n    return () => clearInterval(timerID.current)\n  }, [hash])\n\n  return cache\n}\n\nexport const useCreateCacheMap = cache => {\n  const [cacheMap, setCacheMap] = useState([])\n\n  useEffect(() => {\n    const { PiecesCount, Pieces, Readers } = cache\n\n    const map = []\n\n    for (let i = 0; i < PiecesCount; i++) {\n      const { Size, Length } = Pieces[i] || {}\n\n      const newPiece = { id: i, percentage: (Size / Length) * 100 || 0 }\n\n      Readers.forEach(r => {\n        if (i === r.Reader) newPiece.isReader = true\n        if (i >= r.Start && i <= r.End) newPiece.isReaderRange = true\n      })\n\n      map.push(newPiece)\n    }\n    setCacheMap(map)\n  }, [cache])\n\n  return cacheMap\n}\n\nexport const useGetSettings = cache => {\n  const [settings, setSettings] = useState()\n  useEffect(() => {\n    axios.post(settingsHost(), { action: 'get' }).then(({ data }) => setSettings(data))\n  }, [cache])\n\n  return settings\n}\n","import Button from '@material-ui/core/Button'\nimport { AppBar, IconButton, makeStyles, Toolbar, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { ArrowBack } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n  appBar: { position: 'relative' },\n  title: { marginLeft: theme.spacing(2), flex: 1 },\n}))\n\nexport default function DialogHeader({ title, onClose, onBack }) {\n  const { t } = useTranslation()\n  const classes = useStyles()\n\n  return (\n    <AppBar className={classes.appBar}>\n      <Toolbar>\n        <IconButton edge='start' color='inherit' onClick={onBack || onClose} aria-label='close'>\n          {onBack ? <ArrowBack /> : <CloseIcon />}\n        </IconButton>\n\n        <Typography variant='h6' className={classes.title}>\n          {title}\n        </Typography>\n\n        {onBack && (\n          <Button autoFocus color='inherit' onClick={onClose}>\n            {t('Close')}\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n","import { rgba } from 'polished'\n\nexport const themeColors = {\n  light: {\n    app: {\n      headerToggleColor: '#4db380',\n      appSecondaryColor: '#cbe8d9',\n      sidebarBGColor: '#575757',\n      sidebarFillColor: '#dee3e5',\n    },\n    torrentCard: {\n      accentCardColor: '#337a57',\n      buttonBGColor: rgba('#337a57', 0.5),\n      cardPrimaryColor: '#00a572',\n      cardSecondaryColor: '#74c39c',\n    },\n    dialogTorrentDetailsContent: {\n      posterBGColor: '#74c39c',\n      gradientStartColor: '#e4f6ed',\n      gradientEndColor: '#b5dec9',\n      chacheSectionBGColor: '#88cdaa',\n      widgetFontColor: '#fff',\n      titleFontColor: '#000',\n      subNameFontColor: '#7c7b7c',\n      torrentFilesSectionBGColor: '#f1eff3',\n    },\n    detailedView: {\n      gradientStartColor: '#e4f6ed',\n      gradientEndColor: '#b5dec9',\n      cacheSectionBGColor: '#fff',\n    },\n    addDialog: {\n      gradientStartColor: '#e4f6ed',\n      gradientEndColor: '#b5dec9',\n      fontColor: '#000',\n      notificationErrorBGColor: '#cda184',\n      notificationSuccessBGColor: '#88cdaa',\n      languageSwitchBGColor: '#74c39c',\n      languageSwitchFontColor: '#e4f6ed',\n      posterBGColor: '#74c39c',\n    },\n    torrentFunctions: {\n      fontColor: '#000',\n    },\n    table: {\n      defaultPrimaryColor: '#009879',\n      defaultSecondaryColor: '#00a383',\n      defaultTertiaryColor: '#03aa89',\n    },\n    settingsDialog: {\n      contentBG: '#f1eff3',\n      footerBG: '#fff',\n    },\n  },\n  dark: {\n    app: {\n      headerToggleColor: '#545a5e',\n      appSecondaryColor: '#545a5e',\n      sidebarBGColor: '#323637',\n      sidebarFillColor: '#dee3e5',\n    },\n    torrentCard: {\n      accentCardColor: '#323637',\n      buttonBGColor: rgba('#323637', 0.5),\n      cardPrimaryColor: '#545a5e',\n      cardSecondaryColor: rgba('#dee3e5', 0.4),\n    },\n    dialogTorrentDetailsContent: {\n      posterBGColor: rgba('#dee3e5', 0.4),\n      gradientStartColor: '#656f76',\n      gradientEndColor: '#545a5e',\n      chacheSectionBGColor: '#3c4244',\n      widgetFontColor: rgba('#fff', 0.8),\n      titleFontColor: '#f1eff3',\n      subNameFontColor: '#dee3e5',\n      torrentFilesSectionBGColor: rgba('#545a5e', 0.9),\n    },\n    detailedView: {\n      gradientStartColor: '#656f76',\n      gradientEndColor: '#545a5e',\n      cacheSectionBGColor: '#dee3e5',\n    },\n    addDialog: {\n      gradientStartColor: '#656f76',\n      gradientEndColor: '#545a5e',\n      fontColor: '#fff',\n      notificationErrorBGColor: '#c82e3f',\n      notificationSuccessBGColor: '#323637',\n      languageSwitchBGColor: '#545a5e',\n      languageSwitchFontColor: '#dee3e5',\n      posterBGColor: '#dee3e5',\n    },\n    torrentFunctions: {\n      fontColor: '#f1eff3',\n    },\n    table: {\n      defaultPrimaryColor: '#323637',\n      defaultSecondaryColor: rgba('#545a5e', 0.9),\n      defaultTertiaryColor: '#545a5e',\n    },\n    settingsDialog: {\n      contentBG: '#5a6166',\n      footerBG: '#323637',\n    },\n  },\n}\n\nexport const mainColors = {\n  light: {\n    primary: '#00a572',\n    secondary: '#00a572',\n  },\n  dark: {\n    primary: '#323637',\n    secondary: '#dee3e5',\n  },\n}\n","import { createMuiTheme, useMediaQuery } from '@material-ui/core'\nimport { useEffect, useMemo, useState } from 'react'\n\nimport { mainColors } from './colors'\n\nexport const THEME_MODES = { LIGHT: 'light', DARK: 'dark', AUTO: 'auto' }\n\nconst typography = { fontFamily: 'Open Sans, sans-serif' }\n\nexport const darkTheme = createMuiTheme({\n  typography,\n  palette: {\n    type: THEME_MODES.DARK,\n    primary: { main: mainColors.dark.primary },\n    secondary: { main: mainColors.dark.secondary },\n  },\n})\nexport const lightTheme = createMuiTheme({\n  typography,\n  palette: {\n    type: THEME_MODES.LIGHT,\n    primary: { main: mainColors.light.primary },\n    secondary: { main: mainColors.light.secondary },\n  },\n})\n\nexport const useMaterialUITheme = () => {\n  const savedThemeMode = localStorage.getItem('themeMode')\n  const isSystemModeDark = useMediaQuery('(prefers-color-scheme: dark)')\n  const [isDarkMode, setIsDarkMode] = useState(savedThemeMode === 'dark' || isSystemModeDark)\n  const [currentThemeMode, setCurrentThemeMode] = useState(savedThemeMode || THEME_MODES.LIGHT)\n\n  const updateThemeMode = mode => {\n    setCurrentThemeMode(mode)\n    localStorage.setItem('themeMode', mode)\n  }\n\n  useEffect(() => {\n    currentThemeMode === THEME_MODES.LIGHT && setIsDarkMode(false)\n    currentThemeMode === THEME_MODES.DARK && setIsDarkMode(true)\n    currentThemeMode === THEME_MODES.AUTO && setIsDarkMode(isSystemModeDark)\n  }, [isSystemModeDark, currentThemeMode])\n\n  const theme = isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT\n\n  const muiTheme = useMemo(\n    () =>\n      createMuiTheme({\n        typography,\n        palette: {\n          type: theme,\n          primary: { main: mainColors[theme].primary },\n          secondary: { main: mainColors[theme].secondary },\n        },\n      }),\n    [theme],\n  )\n\n  return [isDarkMode, currentThemeMode, updateThemeMode, muiTheme]\n}\n","import { rgba } from 'polished'\nimport { mainColors } from 'style/colors'\n\nexport const snakeSettings = {\n  dark: {\n    default: {\n      borderWidth: 2,\n      pieceSize: 14,\n      gapBetweenPieces: 3,\n      borderColor: mainColors.dark.secondary,\n      completeColor: rgba(mainColors.dark.primary, 0.65),\n      backgroundColor: '#f1eff3',\n      progressColor: mainColors.dark.secondary,\n      readerColor: '#000',\n      rangeColor: '#cda184',\n    },\n    mini: {\n      cacheMaxHeight: 340,\n      borderWidth: 2,\n      pieceSize: 23,\n      gapBetweenPieces: 6,\n      borderColor: '#545a5e',\n      completeColor: '#545a5e',\n      backgroundColor: '#dee3e5',\n      progressColor: '#dee3e5',\n      readerColor: '#000',\n      rangeColor: '#cda184',\n    },\n  },\n  light: {\n    default: {\n      borderWidth: 1,\n      pieceSize: 14,\n      gapBetweenPieces: 3,\n      borderColor: '#dbf2e8',\n      completeColor: mainColors.light.primary,\n      backgroundColor: '#fff',\n      progressColor: '#b3dfc9',\n      readerColor: '#000',\n      rangeColor: '#afa6e3',\n    },\n    mini: {\n      cacheMaxHeight: 340,\n      borderWidth: 2,\n      pieceSize: 23,\n      gapBetweenPieces: 6,\n      borderColor: '#4db380',\n      completeColor: '#4db380',\n      backgroundColor: '#dbf2e8',\n      progressColor: '#dbf2e8',\n      readerColor: '#2d714f',\n      rangeColor: '#afa6e3',\n    },\n  },\n}\n\nexport const createGradient = (ctx, percentage, theme, snakeType) => {\n  const { pieceSize, completeColor, progressColor } = snakeSettings[theme][snakeType]\n\n  const gradient = ctx.createLinearGradient(0, pieceSize, 0, 0)\n  gradient.addColorStop(0, completeColor)\n  gradient.addColorStop(percentage / 100, completeColor)\n  gradient.addColorStop(percentage / 100, progressColor)\n  gradient.addColorStop(1, progressColor)\n\n  return gradient\n}\n","import styled, { css } from 'styled-components'\n\nimport { snakeSettings } from './snakeSettings'\n\nexport const ScrollNotification = styled.div`\n  margin-top: 10px;\n  text-transform: uppercase;\n  color: rgba(0, 0, 0, 0.5);\n  align-self: center;\n`\n\nexport const SnakeWrapper = styled.div`\n  ${({ isMini, themeType }) => css`\n    ${isMini &&\n    css`\n      display: grid;\n      justify-content: center;\n      max-height: ${snakeSettings[themeType].mini.cacheMaxHeight}px;\n      overflow: auto;\n    `}\n\n    canvas {\n      display: block;\n    }\n  `}\n`\n","import Measure from 'react-measure'\nimport { useState, memo, useRef, useEffect, useContext } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport isEqual from 'lodash/isEqual'\nimport { DarkModeContext } from 'components/App'\nimport { THEME_MODES } from 'style/materialUISetup'\n\nimport { useCreateCacheMap } from '../customHooks'\nimport getShortCacheMap from './getShortCacheMap'\nimport { SnakeWrapper, ScrollNotification } from './style'\nimport { createGradient, snakeSettings } from './snakeSettings'\n\nconst TorrentCache = ({ cache, isMini }) => {\n  const { t } = useTranslation()\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\n  const { width } = dimensions\n  const canvasRef = useRef(null)\n  const ctxRef = useRef(null)\n  const cacheMap = useCreateCacheMap(cache)\n  const settingsTarget = isMini ? 'mini' : 'default'\n  const { isDarkMode } = useContext(DarkModeContext)\n  const theme = isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT\n\n  const {\n    readerColor,\n    rangeColor,\n    borderWidth,\n    pieceSize,\n    gapBetweenPieces,\n    backgroundColor,\n    borderColor,\n    cacheMaxHeight,\n    completeColor,\n  } = snakeSettings[theme][settingsTarget]\n\n  const canvasWidth = isMini ? width * 0.93 : width\n\n  const pieceSizeWithGap = pieceSize + gapBetweenPieces\n  const piecesInOneRow = Math.floor(canvasWidth / pieceSizeWithGap)\n\n  let shotCacheMap\n  if (isMini) {\n    const preloadPiecesAmount = Math.round(cache.Capacity / cache.PiecesLength - 1)\n    shotCacheMap = getShortCacheMap({ cacheMap, preloadPiecesAmount, piecesInOneRow })\n  }\n  const source = isMini ? shotCacheMap : cacheMap\n  const startingXPoint = Math.ceil((canvasWidth - pieceSizeWithGap * piecesInOneRow) / 2) // needed to center grid\n  const height = Math.ceil(source.length / piecesInOneRow) * pieceSizeWithGap\n\n  useEffect(() => {\n    if (!canvasWidth || !height) return\n\n    const canvas = canvasRef.current\n    canvas.width = canvasWidth\n    canvas.height = height\n    ctxRef.current = canvas.getContext('2d')\n  }, [canvasRef, height, canvasWidth])\n\n  useEffect(() => {\n    const ctx = ctxRef.current\n    if (!ctx) return\n\n    ctx.clearRect(0, 0, canvasWidth, height)\n\n    source.forEach(({ percentage, isReader, isReaderRange }, i) => {\n      const inProgress = percentage > 0 && percentage < 100\n      const isCompleted = percentage === 100\n      const currentRow = i % piecesInOneRow\n      const currentColumn = Math.floor(i / piecesInOneRow)\n      const fixBlurStroke = borderWidth % 2 === 0 ? 0 : 0.5\n      const requiredFix = Math.ceil(borderWidth / 2) + 1 + fixBlurStroke\n      const x = currentRow * pieceSize + currentRow * gapBetweenPieces + startingXPoint + requiredFix\n      const y = currentColumn * pieceSize + currentColumn * gapBetweenPieces + requiredFix\n\n      ctx.lineWidth = borderWidth\n      ctx.fillStyle = inProgress\n        ? createGradient(ctx, percentage, theme, settingsTarget)\n        : isCompleted\n        ? completeColor\n        : backgroundColor\n      ctx.strokeStyle = isReader\n        ? readerColor\n        : inProgress || isCompleted\n        ? completeColor\n        : isReaderRange\n        ? rangeColor\n        : borderColor\n\n      ctx.translate(x, y)\n      ctx.fillRect(0, 0, pieceSize, pieceSize)\n      ctx.strokeRect(0, 0, pieceSize, pieceSize)\n      ctx.setTransform(1, 0, 0, 1, 0, 0)\n    })\n  }, [\n    cacheMap,\n    height,\n    canvasWidth,\n    piecesInOneRow,\n    startingXPoint,\n    pieceSize,\n    gapBetweenPieces,\n    source,\n    backgroundColor,\n    borderColor,\n    borderWidth,\n    settingsTarget,\n    completeColor,\n    readerColor,\n    rangeColor,\n    theme,\n  ])\n\n  return (\n    <Measure bounds onResize={({ bounds }) => setDimensions(bounds)}>\n      {({ measureRef }) => (\n        <div style={{ display: 'flex', flexDirection: 'column' }} ref={measureRef}>\n          <SnakeWrapper themeType={theme} isMini={isMini}>\n            <canvas ref={canvasRef} />\n          </SnakeWrapper>\n\n          {isMini && height >= cacheMaxHeight && <ScrollNotification>{t('ScrollDown')}</ScrollNotification>}\n        </div>\n      )}\n    </Measure>\n  )\n}\n\nexport default memo(\n  TorrentCache,\n  (prev, next) => isEqual(prev.cache.Pieces, next.cache.Pieces) && isEqual(prev.cache.Readers, next.cache.Readers),\n)\n","export default ({ cacheMap, preloadPiecesAmount, piecesInOneRow }) => {\n  const cacheMapWithoutEmptyBlocks = cacheMap.filter(({ percentage }) => percentage > 0)\n\n  const getFullAmountOfBlocks = amountOfBlocks =>\n    // this function counts existed amount of blocks with extra \"empty blocks\" to fill the row till the end\n    amountOfBlocks % piecesInOneRow === 0\n      ? amountOfBlocks - 1\n      : amountOfBlocks + piecesInOneRow - (amountOfBlocks % piecesInOneRow) - 1 || 0\n\n  const amountOfBlocksToRenderInShortView = getFullAmountOfBlocks(preloadPiecesAmount)\n  // preloadPiecesAmount is counted from \"cache.Capacity / cache.PiecesLength\". We always show at least this amount of blocks\n  const scalableAmountOfBlocksToRenderInShortView = getFullAmountOfBlocks(cacheMapWithoutEmptyBlocks.length)\n  // cacheMap can become bigger than preloadPiecesAmount counted before. In that case we count blocks dynamically\n\n  const finalAmountOfBlocksToRenderInShortView = Math.max(\n    // this check is needed to decide which is the biggest amount of blocks and take it to render\n    scalableAmountOfBlocksToRenderInShortView,\n    amountOfBlocksToRenderInShortView,\n  )\n\n  const extraBlocksAmount = finalAmountOfBlocksToRenderInShortView - cacheMapWithoutEmptyBlocks.length + 1\n  // amount of blocks needed to fill the line till the end\n\n  const extraEmptyBlocksForFillingLine = extraBlocksAmount ? new Array(extraBlocksAmount).fill({}) : []\n\n  return [...cacheMapWithoutEmptyBlocks, ...extraEmptyBlocksForFillingLine]\n}\n","import styled, { css } from 'styled-components'\n\nconst viewedPrimaryColor = '#bdbdbd'\nconst viewedSecondaryColor = '#c4c4c4'\nconst viewedTertiaryColor = '#c9c9c9'\nconst bigTableDividerColor = '#ddd'\nconst bigTableDefaultRowColor = '#fff'\nconst bigTableViewedRowColor = '#f3f3f3'\n\nconst viewedIndicator = css`\n  ${({\n    theme: {\n      table: { defaultPrimaryColor },\n    },\n  }) => css`\n    :before {\n      content: '';\n      width: 10px;\n      height: 10px;\n      background: ${defaultPrimaryColor};\n      border-radius: 50%;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  `}\n`\nexport const TableStyle = styled.table`\n  ${({\n    theme: {\n      table: { defaultPrimaryColor },\n    },\n  }) => css`\n    border-collapse: collapse;\n    margin: 25px 0;\n    font-size: 0.9em;\n    width: 100%;\n    border-radius: 5px 5px 0 0;\n    overflow: hidden;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\n    color: #000;\n\n    thead tr {\n      background: ${defaultPrimaryColor};\n      color: #fff;\n      text-align: left;\n      text-transform: uppercase;\n    }\n\n    th,\n    td {\n      padding: 12px 15px;\n    }\n\n    tbody tr {\n      border-bottom: 1px solid ${bigTableDividerColor};\n      background: ${bigTableDefaultRowColor};\n\n      :last-of-type {\n        border-bottom: 2px solid ${defaultPrimaryColor};\n      }\n\n      &.viewed-file-row {\n        background: ${bigTableViewedRowColor};\n      }\n    }\n\n    td {\n      &.viewed-file-indicator {\n        position: relative;\n\n        ${viewedIndicator}\n      }\n    }\n\n    .button-cell {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      gap: 10px;\n    }\n\n    @media (max-width: 970px) {\n      display: none;\n    }\n  `}\n`\n\nexport const ShortTableWrapper = styled.div`\n  display: grid;\n  gap: 20px;\n  grid-template-columns: repeat(2, 1fr);\n  display: none;\n\n  @media (max-width: 970px) {\n    display: grid;\n  }\n\n  @media (max-width: 820px) {\n    gap: 15px;\n    grid-template-columns: 1fr;\n  }\n`\n\nexport const ShortTable = styled.div`\n  ${({\n    isViewed,\n    theme: {\n      table: { defaultPrimaryColor, defaultSecondaryColor, defaultTertiaryColor },\n    },\n  }) => css`\n    width: 100%;\n    grid-template-rows: repeat(3, max-content);\n    border-radius: 5px;\n    overflow: hidden;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\n\n    .short-table {\n      &-name {\n        background: ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\n        display: grid;\n        place-items: center;\n        padding: 15px;\n        color: #fff;\n        text-transform: uppercase;\n        font-size: 15px;\n        font-weight: bold;\n\n        @media (max-width: 880px) {\n          font-size: 13px;\n          padding: 10px;\n        }\n      }\n      &-data {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: ${isViewed ? 'max-content' : '1fr'};\n        grid-auto-columns: 1fr;\n      }\n      &-field {\n        display: grid;\n        grid-template-rows: 30px 1fr;\n        background: black;\n        :not(:last-child) {\n          border-right: 1px solid ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\n        }\n\n        &-name {\n          background: ${isViewed ? viewedSecondaryColor : defaultSecondaryColor};\n          color: #fff;\n          text-transform: uppercase;\n          font-size: 12px;\n          font-weight: 500;\n          display: grid;\n          place-items: center;\n          padding: 0 10px;\n\n          @media (max-width: 880px) {\n            font-size: 11px;\n          }\n        }\n\n        &-value {\n          background: ${isViewed ? viewedTertiaryColor : defaultTertiaryColor};\n          display: grid;\n          place-items: center;\n          color: #fff;\n          font-size: 15px;\n          padding: 15px 10px;\n          position: relative;\n\n          @media (max-width: 880px) {\n            font-size: 13px;\n            padding: 12px 8px;\n          }\n        }\n      }\n\n      &-viewed-indicator {\n        ${isViewed && viewedIndicator}\n      }\n\n      &-buttons {\n        padding: 20px;\n        border-bottom: 2px solid ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        align-items: center;\n        gap: 20px;\n        background: #fff;\n\n        @media (max-width: 410px) {\n          gap: 10px;\n          grid-template-columns: 1fr;\n        }\n      }\n    }\n  `}\n`\n","import { streamHost } from 'utils/Hosts'\nimport isEqual from 'lodash/isEqual'\nimport { humanizeSize } from 'utils/Utils'\nimport ptt from 'parse-torrent-title'\nimport { Button } from '@material-ui/core'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport { useTranslation } from 'react-i18next'\n\nimport { TableStyle, ShortTableWrapper, ShortTable } from './style'\n\nconst { memo } = require('react')\n\n// russian episode detection support\nptt.addHandler('episode', /(\\d{1,4})[- |. ]|[- |. ](\\d{1,4})/i, { type: 'integer' })\nptt.addHandler('season', /sezon[- |. ](\\d{1,3})|(\\d{1,3})[- |. ]sezon/i, { type: 'integer' })\nptt.addHandler('season', /[- |. ](\\d{1,3})|(\\d{1,3})[- |. ]/i, { type: 'integer' })\n\nconst Table = memo(\n  ({ playableFileList, viewedFileList, selectedSeason, seasonAmount, hash }) => {\n    const { t } = useTranslation()\n    const preloadBuffer = fileId => fetch(`${streamHost()}?link=${hash}&index=${fileId}&preload`)\n    const getFileLink = (path, id) =>\n      `${streamHost()}/${encodeURIComponent(path.split('\\\\').pop().split('/').pop())}?link=${hash}&index=${id}&play`\n    const fileHasEpisodeText = !!playableFileList?.find(({ path }) => ptt.parse(path).episode)\n    const fileHasSeasonText = !!playableFileList?.find(({ path }) => ptt.parse(path).season)\n    const fileHasResolutionText = !!playableFileList?.find(({ path }) => ptt.parse(path).resolution)\n\n    // if files in list is more then 1 and no season text detected by ptt.parse, show full name\n    const shouldDisplayFullFileName = playableFileList.length > 1 && !fileHasEpisodeText\n\n    return !playableFileList?.length ? (\n      'No playable files in this torrent'\n    ) : (\n      <>\n        <TableStyle>\n          <thead>\n            <tr>\n              <th style={{ width: '0' }}>{t('Viewed')}</th>\n              <th>{t('Name')}</th>\n              {fileHasSeasonText && seasonAmount?.length === 1 && <th style={{ width: '0' }}>{t('Season')}</th>}\n              {fileHasEpisodeText && <th style={{ width: '0' }}>{t('Episode')}</th>}\n              {fileHasResolutionText && <th style={{ width: '0' }}>{t('Resolution')}</th>}\n              <th style={{ width: '100px' }}>{t('Size')}</th>\n              <th style={{ width: '400px' }}>{t('Actions')}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {playableFileList.map(({ id, path, length }) => {\n              const { title, resolution, episode, season } = ptt.parse(path)\n              const isViewed = viewedFileList?.includes(id)\n              const link = getFileLink(path, id)\n\n              return (\n                (season === selectedSeason || !seasonAmount?.length) && (\n                  <tr key={id} className={isViewed ? 'viewed-file-row' : null}>\n                    <td data-label='viewed' className={isViewed ? 'viewed-file-indicator' : null} />\n                    <td data-label='name'>{shouldDisplayFullFileName ? path : title}</td>\n                    {fileHasSeasonText && seasonAmount?.length === 1 && <td data-label='season'>{season}</td>}\n                    {fileHasEpisodeText && <td data-label='episode'>{episode}</td>}\n                    {fileHasResolutionText && <td data-label='resolution'>{resolution}</td>}\n                    <td data-label='size'>{humanizeSize(length)}</td>\n                    <td>\n                      <div className='button-cell'>\n                        <Button onClick={() => preloadBuffer(id)} variant='outlined' color='primary' size='small'>\n                          {t('Preload')}\n                        </Button>\n\n                        <a style={{ textDecoration: 'none' }} href={link} target='_blank' rel='noreferrer'>\n                          <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\n                            {t('OpenLink')}\n                          </Button>\n                        </a>\n\n                        <CopyToClipboard text={link}>\n                          <Button variant='outlined' color='primary' size='small'>\n                            {t('CopyLink')}\n                          </Button>\n                        </CopyToClipboard>\n                      </div>\n                    </td>\n                  </tr>\n                )\n              )\n            })}\n          </tbody>\n        </TableStyle>\n\n        <ShortTableWrapper>\n          {playableFileList.map(({ id, path, length }) => {\n            const { title, resolution, episode, season } = ptt.parse(path)\n            const isViewed = viewedFileList?.includes(id)\n            const link = getFileLink(path, id)\n\n            return (\n              (season === selectedSeason || !seasonAmount?.length) && (\n                <ShortTable key={id} isViewed={isViewed}>\n                  <div className='short-table-name'>{shouldDisplayFullFileName ? path : title}</div>\n                  <div className='short-table-data'>\n                    {isViewed && (\n                      <div className='short-table-field'>\n                        <div className='short-table-field-name'>{t('Viewed')}</div>\n                        <div className='short-table-field-value'>\n                          <div className='short-table-viewed-indicator' />\n                        </div>\n                      </div>\n                    )}\n                    {fileHasSeasonText && seasonAmount?.length === 1 && (\n                      <div className='short-table-field'>\n                        <div className='short-table-field-name'>{t('Season')}</div>\n                        <div className='short-table-field-value'>{season}</div>\n                      </div>\n                    )}\n                    {fileHasEpisodeText && (\n                      <div className='short-table-field'>\n                        <div className='short-table-field-name'>{t('Episode')}</div>\n                        <div className='short-table-field-value'>{episode}</div>\n                      </div>\n                    )}\n                    {fileHasResolutionText && (\n                      <div className='short-table-field'>\n                        <div className='short-table-field-name'>{t('Resolution')}</div>\n                        <div className='short-table-field-value'>{resolution}</div>\n                      </div>\n                    )}\n                    <div className='short-table-field'>\n                      <div className='short-table-field-name'>{t('Size')}</div>\n                      <div className='short-table-field-value'>{humanizeSize(length)}</div>\n                    </div>\n                  </div>\n                  <div className='short-table-buttons'>\n                    <Button onClick={() => preloadBuffer(id)} variant='outlined' color='primary' size='small'>\n                      {t('Preload')}\n                    </Button>\n\n                    <a style={{ textDecoration: 'none' }} href={link} target='_blank' rel='noreferrer'>\n                      <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\n                        {t('OpenLink')}\n                      </Button>\n                    </a>\n\n                    <CopyToClipboard text={link}>\n                      <Button variant='outlined' color='primary' size='small'>\n                        {t('CopyLink')}\n                      </Button>\n                    </CopyToClipboard>\n                  </div>\n                </ShortTable>\n              )\n            )\n          })}\n        </ShortTableWrapper>\n      </>\n    )\n  },\n  (prev, next) => isEqual(prev, next),\n)\n\nexport default Table\n","import { rgba } from 'polished'\nimport styled, { css } from 'styled-components'\n\nexport const DialogContentGrid = styled.div`\n  display: grid;\n  grid-template-columns: 70% 1fr;\n  grid-template-rows: repeat(2, min-content);\n  grid-template-areas:\n    'main cache'\n    'file-list file-list';\n\n  @media (max-width: 1450px) {\n    grid-template-columns: 1fr;\n    grid-template-rows: repeat(3, min-content);\n    grid-template-areas:\n      'main'\n      'cache'\n      'file-list';\n  }\n`\nexport const Poster = styled.div`\n  ${({\n    poster,\n    theme: {\n      dialogTorrentDetailsContent: { posterBGColor },\n    },\n  }) => css`\n    height: 400px;\n    border-radius: 5px;\n    overflow: hidden;\n    align-self: center;\n\n    ${poster\n      ? css`\n          img {\n            border-radius: 5px;\n            height: 100%;\n          }\n        `\n      : css`\n          width: 300px;\n          display: grid;\n          place-items: center;\n          background: ${posterBGColor};\n\n          svg {\n            transform: scale(2.5) translateY(-3px);\n          }\n        `}\n\n    @media (max-width: 1280px) {\n      align-self: start;\n    }\n\n    @media (max-width: 840px) {\n      ${poster\n        ? css`\n            height: 200px;\n          `\n        : css`\n            display: none;\n          `}\n    }\n  `}\n`\nexport const MainSection = styled.section`\n  ${({\n    theme: {\n      dialogTorrentDetailsContent: { gradientStartColor, gradientEndColor },\n    },\n  }) => css`\n    grid-area: main;\n    padding: 40px;\n    display: grid;\n    grid-template-columns: min-content 1fr;\n    gap: 30px;\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\n\n    @media (max-width: 840px) {\n      grid-template-columns: 1fr;\n    }\n\n    @media (max-width: 800px) {\n      padding: 20px;\n    }\n  `}\n`\n\nexport const CacheSection = styled.section`\n  ${({\n    theme: {\n      dialogTorrentDetailsContent: { chacheSectionBGColor },\n    },\n  }) => css`\n    grid-area: cache;\n    padding: 40px;\n    display: grid;\n    align-content: start;\n    grid-template-rows: min-content 1fr min-content;\n    background: ${chacheSectionBGColor};\n\n    @media (max-width: 800px) {\n      padding: 20px;\n    }\n  `}\n`\n\nexport const TorrentFilesSection = styled.section`\n  ${({\n    theme: {\n      dialogTorrentDetailsContent: { torrentFilesSectionBGColor },\n    },\n  }) => css`\n    grid-area: file-list;\n    padding: 40px;\n    box-shadow: inset 3px 25px 8px -25px rgba(0, 0, 0, 0.5);\n    background: ${torrentFilesSectionBGColor};\n\n    @media (max-width: 800px) {\n      padding: 20px;\n    }\n  `}\n`\n\nexport const SectionSubName = styled.div`\n  ${({\n    theme: {\n      dialogTorrentDetailsContent: { subNameFontColor },\n    },\n  }) => css`\n    ${({ mb }) => css`\n      ${mb && `margin-bottom: ${mb}px`};\n      color: ${subNameFontColor};\n\n      @media (max-width: 800px) {\n        ${mb && `margin-bottom: ${mb / 2}px`};\n        font-size: 11px;\n      }\n    `}\n  `}\n`\n\nexport const SectionTitle = styled.div`\n  ${({\n    color,\n    theme: {\n      dialogTorrentDetailsContent: { titleFontColor },\n    },\n  }) => css`\n    ${({ mb }) => css`\n      ${mb && `margin-bottom: ${mb}px`};\n      font-size: 35px;\n      font-weight: 300;\n      line-height: 1;\n      word-break: break-word;\n      color: ${color || titleFontColor};\n\n      @media (max-width: 800px) {\n        font-size: 25px;\n        ${mb && `margin-bottom: ${mb / 2}px`};\n      }\n    `}\n  `}\n`\n\nexport const SectionHeader = styled.div`\n  margin-bottom: 20px;\n`\n\nexport const WidgetWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(max-content, 220px));\n  gap: 20px;\n\n  @media (max-width: 800px) {\n    gap: 15px;\n  }\n  @media (max-width: 410px) {\n    gap: 10px;\n  }\n\n  ${({ detailedView }) =>\n    detailedView\n      ? css`\n          @media (max-width: 800px) {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          @media (max-width: 410px) {\n            grid-template-columns: 1fr;\n          }\n        `\n      : css`\n          @media (max-width: 800px) {\n            grid-template-columns: repeat(auto-fit, minmax(max-content, 185px));\n          }\n          @media (max-width: 480px) {\n            grid-template-columns: 1fr 1fr;\n          }\n          @media (max-width: 390px) {\n            grid-template-columns: 1fr;\n          }\n        `}\n`\n\nexport const WidgetFieldWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 40px 1fr;\n  grid-template-rows: min-content 50px;\n  grid-template-areas:\n    'title title'\n    'icon value';\n\n  > * {\n    display: grid;\n    place-items: center;\n  }\n\n  @media (max-width: 800px) {\n    grid-template-columns: 30px 1fr;\n    grid-template-rows: min-content 40px;\n  }\n`\nexport const WidgetFieldTitle = styled.div`\n  ${({\n    theme: {\n      dialogTorrentDetailsContent: { titleFontColor },\n    },\n  }) => css`\n    grid-area: title;\n    justify-self: start;\n    text-transform: uppercase;\n    font-size: 11px;\n    margin-bottom: 2px;\n    font-weight: 600;\n    color: ${titleFontColor};\n  `}\n`\n\nexport const WidgetFieldIcon = styled.div`\n  ${({ bgColor }) => css`\n    grid-area: icon;\n    color: ${rgba('#fff', 0.8)};\n    background: ${bgColor};\n    border-radius: 5px 0 0 5px;\n\n    @media (max-width: 800px) {\n      > svg {\n        width: 50%;\n      }\n    }\n  `}\n`\nexport const WidgetFieldValue = styled.div`\n  ${({\n    bgColor,\n    theme: {\n      dialogTorrentDetailsContent: { widgetFontColor },\n    },\n  }) => css`\n    grid-area: value;\n    padding: 0 20px;\n    color: ${widgetFontColor};\n    font-size: 25px;\n    background: ${bgColor};\n    border-radius: 0 5px 5px 0;\n\n    @media (max-width: 800px) {\n      font-size: 18px;\n      padding: 0 4px;\n    }\n  `}\n`\n\nexport const LoadingProgress = styled.div.attrs(\n  ({\n    value,\n    fullAmount,\n    theme: {\n      dialogTorrentDetailsContent: { gradientEndColor },\n    },\n  }) => {\n    const percentage = Math.min(100, (value * 100) / fullAmount)\n\n    return {\n      // this block is here according to styled-components recomendation about fast changable components\n      style: {\n        background: `linear-gradient(to right, ${gradientEndColor} 0%, ${gradientEndColor} ${percentage}%, #fff ${percentage}%, #fff 100%)`,\n      },\n    }\n  },\n)`\n  ${({ label }) => css`\n    border: 1px solid;\n    padding: 10px 20px;\n    border-radius: 5px;\n    color: #000;\n\n    :before {\n      content: '${label}';\n      display: grid;\n      place-items: center;\n      font-size: 20px;\n    }\n  `}\n`\n\nexport const Divider = styled.div`\n  height: 1px;\n  background-color: rgba(0, 0, 0, 0.12);\n  margin: 30px 0;\n`\n","import styled, { css } from 'styled-components'\n\nexport const DetailedViewWidgetSection = styled.section`\n  ${({\n    theme: {\n      detailedView: { gradientStartColor, gradientEndColor },\n    },\n  }) => css`\n    padding: 40px;\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\n\n    @media (max-width: 800px) {\n      padding: 20px;\n    }\n  `}\n`\n\nexport const DetailedViewCacheSection = styled.section`\n  ${({\n    theme: {\n      detailedView: { cacheSectionBGColor },\n    },\n  }) => css`\n    padding: 40px;\n    box-shadow: inset 3px 25px 8px -25px rgba(0, 0, 0, 0.5);\n    background: ${cacheSectionBGColor};\n    flex: 1;\n\n    @media (max-width: 800px) {\n      padding: 20px;\n    }\n  `}\n`\n","import { WidgetFieldWrapper, WidgetFieldIcon, WidgetFieldValue, WidgetFieldTitle } from './style'\n\nexport default function StatisticsField({ icon: Icon, title, value, iconBg, valueBg }) {\n  return (\n    <WidgetFieldWrapper>\n      <WidgetFieldTitle>{title}</WidgetFieldTitle>\n      <WidgetFieldIcon bgColor={iconBg}>\n        <Icon />\n      </WidgetFieldIcon>\n\n      <WidgetFieldValue bgColor={valueBg}>{value}</WidgetFieldValue>\n    </WidgetFieldWrapper>\n  )\n}\n","import { DarkModeContext } from 'components/App'\nimport { useContext } from 'react'\nimport { THEME_MODES } from 'style/materialUISetup'\n\nconst { LIGHT, DARK } = THEME_MODES\n\nconst colors = {\n  light: {\n    downloadSpeed: { iconBGColor: '#118f00', valueBGColor: '#13a300' },\n    uploadSpeed: { iconBGColor: '#0146ad', valueBGColor: '#0058db' },\n    peers: { iconBGColor: '#cdc118', valueBGColor: '#d8cb18' },\n    piecesCount: { iconBGColor: '#b6c95e', valueBGColor: '#c0d076' },\n    piecesLength: { iconBGColor: '#0982c8', valueBGColor: '#098cd7' },\n    status: { iconBGColor: '#aea25b', valueBGColor: '#b4aa6e' },\n    size: { iconBGColor: '#9b01ad', valueBGColor: '#ac03bf' },\n  },\n  dark: {\n    downloadSpeed: { iconBGColor: '#0c6600', valueBGColor: '#0d7000' },\n    uploadSpeed: { iconBGColor: '#003f9e', valueBGColor: '#0047b3' },\n    peers: { iconBGColor: '#a69c11', valueBGColor: '#b4a913' },\n    piecesCount: { iconBGColor: '#8da136', valueBGColor: '#99ae3d' },\n    piecesLength: { iconBGColor: '#07659c', valueBGColor: '#0872af' },\n    status: { iconBGColor: '#938948', valueBGColor: '#9f9450' },\n    size: { iconBGColor: '#81008f', valueBGColor: '#9102a1' },\n  },\n}\n\nexport default function useGetWidgetColors(widgetName) {\n  const { isDarkMode } = useContext(DarkModeContext)\n  const widgetColors = colors[isDarkMode ? DARK : LIGHT][widgetName]\n\n  return widgetColors\n}\n","import {\n  ArrowDownward as ArrowDownwardIcon,\n  ArrowUpward as ArrowUpwardIcon,\n  SwapVerticalCircle as SwapVerticalCircleIcon,\n  ViewAgenda as ViewAgendaIcon,\n  Widgets as WidgetsIcon,\n  PhotoSizeSelectSmall as PhotoSizeSelectSmallIcon,\n  Build as BuildIcon,\n} from '@material-ui/icons'\nimport { getPeerString, humanizeSize } from 'utils/Utils'\nimport { useTranslation } from 'react-i18next'\nimport { GETTING_INFO, IN_DB, CLOSED, PRELOAD, WORKING } from 'torrentStates'\n\nimport StatisticsField from '../StatisticsField'\nimport useGetWidgetColors from './useGetWidgetColors'\n\nexport const DownlodSpeedWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('downloadSpeed')\n\n  return (\n    <StatisticsField\n      title={t('DownloadSpeed')}\n      value={humanizeSize(data) || '0 B'}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={ArrowDownwardIcon}\n    />\n  )\n}\n\nexport const UploadSpeedWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('uploadSpeed')\n\n  return (\n    <StatisticsField\n      title={t('UploadSpeed')}\n      value={humanizeSize(data) || '0 B'}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={ArrowUpwardIcon}\n    />\n  )\n}\n\nexport const PeersWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('peers')\n\n  return (\n    <StatisticsField\n      title={t('Peers')}\n      value={getPeerString(data) || '[0] 0 / 0'}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={SwapVerticalCircleIcon}\n    />\n  )\n}\n\nexport const PiecesCountWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('piecesCount')\n\n  return (\n    <StatisticsField\n      title={t('PiecesCount')}\n      value={data}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={WidgetsIcon}\n    />\n  )\n}\n\nexport const PiecesLengthWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('piecesLength')\n\n  return (\n    <StatisticsField\n      title={t('PiecesLength')}\n      value={humanizeSize(data)}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={PhotoSizeSelectSmallIcon}\n    />\n  )\n}\n\nexport const StatusWidget = ({ stat }) => {\n  const { t } = useTranslation()\n\n  const values = {\n    [GETTING_INFO]: t('TorrentGettingInfo'),\n    [PRELOAD]: t('TorrentPreload'),\n    [WORKING]: t('TorrentWorking'),\n    [CLOSED]: t('TorrentClosed'),\n    [IN_DB]: t('TorrentInDb'),\n  }\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('status')\n\n  return (\n    <StatisticsField\n      title={t('TorrentStatus')}\n      value={values[stat]}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={BuildIcon}\n    />\n  )\n}\n\nexport const SizeWidget = ({ data }) => {\n  const { t } = useTranslation()\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('size')\n\n  return (\n    <StatisticsField\n      title={t('TorrentSize')}\n      value={humanizeSize(data)}\n      iconBg={iconBGColor}\n      valueBg={valueBGColor}\n      icon={ViewAgendaIcon}\n    />\n  )\n}\n","export const [GETTING_INFO, PRELOAD, WORKING, CLOSED, IN_DB] = [1, 2, 3, 4, 5]\n","import { useTranslation } from 'react-i18next'\n\nimport { SectionTitle, WidgetWrapper } from '../style'\nimport { DetailedViewCacheSection, DetailedViewWidgetSection } from './style'\nimport TorrentCache from '../TorrentCache'\nimport {\n  SizeWidget,\n  PiecesLengthWidget,\n  StatusWidget,\n  PiecesCountWidget,\n  PeersWidget,\n  UploadSpeedWidget,\n  DownlodSpeedWidget,\n} from '../widgets'\n\nexport default function DetailedView({\n  downloadSpeed,\n  uploadSpeed,\n  torrent,\n  torrentSize,\n  PiecesCount,\n  PiecesLength,\n  stat,\n  cache,\n}) {\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <DetailedViewWidgetSection>\n        <SectionTitle mb={20}>{t('Data')}</SectionTitle>\n\n        <WidgetWrapper detailedView>\n          <DownlodSpeedWidget data={downloadSpeed} />\n          <UploadSpeedWidget data={uploadSpeed} />\n          <PeersWidget data={torrent} />\n          <SizeWidget data={torrentSize} />\n          <PiecesCountWidget data={PiecesCount} />\n          <PiecesLengthWidget data={PiecesLength} />\n          <StatusWidget stat={stat} />\n        </WidgetWrapper>\n      </DetailedViewWidgetSection>\n\n      <DetailedViewCacheSection>\n        <SectionTitle color='#000' mb={20}>\n          {t('Cache')}\n        </SectionTitle>\n        <TorrentCache cache={cache} />\n      </DetailedViewCacheSection>\n    </>\n  )\n}\n","import styled, { css } from 'styled-components'\n\nexport const MainSectionButtonGroup = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n\n  :not(:last-child) {\n    margin-bottom: 30px;\n  }\n\n  @media (max-width: 1580px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 880px) {\n    grid-template-columns: 1fr;\n  }\n`\n\nexport const SmallLabel = styled.div`\n  ${({\n    mb,\n    theme: {\n      torrentFunctions: { fontColor },\n    },\n  }) => css`\n    ${mb && `margin-bottom: ${mb}px`};\n    font-size: 20px;\n    font-weight: 300;\n    line-height: 1;\n    color: ${fontColor};\n\n    @media (max-width: 800px) {\n      font-size: 18px;\n      ${mb && `margin-bottom: ${mb / 1.5}px`};\n    }\n  `}\n`\n","import axios from 'axios'\nimport { memo } from 'react'\nimport { playlistTorrHost, torrentsHost, viewedHost } from 'utils/Hosts'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { Button } from '@material-ui/core'\nimport ptt from 'parse-torrent-title'\nimport { useTranslation } from 'react-i18next'\n\nimport { SmallLabel, MainSectionButtonGroup } from './style'\nimport { SectionSubName } from '../style'\n\nconst TorrentFunctions = memo(\n  ({ hash, viewedFileList, playableFileList, name, title, setViewedFileList }) => {\n    const { t } = useTranslation()\n    const latestViewedFileId = viewedFileList?.[viewedFileList?.length - 1]\n    const latestViewedFile = playableFileList?.find(({ id }) => id === latestViewedFileId)?.path\n    const isOnlyOnePlayableFile = playableFileList?.length === 1\n    const latestViewedFileData = latestViewedFile && ptt.parse(latestViewedFile)\n    const dropTorrent = () => axios.post(torrentsHost(), { action: 'drop', hash })\n    const removeTorrentViews = () =>\n      axios.post(viewedHost(), { action: 'rem', hash, file_index: -1 }).then(() => setViewedFileList())\n    const fullPlaylistLink = `${playlistTorrHost()}/${encodeURIComponent(name || title || 'file')}.m3u?link=${hash}&m3u`\n    const partialPlaylistLink = `${fullPlaylistLink}&fromlast`\n\n    return (\n      <>\n        {!isOnlyOnePlayableFile && !!viewedFileList?.length && (\n          <>\n            <SmallLabel>{t('DownloadPlaylist')}</SmallLabel>\n            <SectionSubName mb={10}>\n              <strong>{t('LatestFilePlayed')}</strong> {latestViewedFileData?.title}.\n              {latestViewedFileData?.season && (\n                <>\n                  {' '}\n                  {t('Season')}: {latestViewedFileData?.season}. {t('Episode')}: {latestViewedFileData?.episode}.\n                </>\n              )}\n            </SectionSubName>\n\n            <MainSectionButtonGroup>\n              <a style={{ textDecoration: 'none' }} href={fullPlaylistLink}>\n                <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\n                  {t('Full')}\n                </Button>\n              </a>\n\n              <a style={{ textDecoration: 'none' }} href={partialPlaylistLink}>\n                <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\n                  {t('FromLatestFile')}\n                </Button>\n              </a>\n            </MainSectionButtonGroup>\n          </>\n        )}\n        <SmallLabel mb={10}>{t('TorrentState')}</SmallLabel>\n        <MainSectionButtonGroup>\n          <Button onClick={() => removeTorrentViews()} variant='contained' color='primary' size='large'>\n            {t('RemoveViews')}\n          </Button>\n          <Button onClick={() => dropTorrent()} variant='contained' color='primary' size='large'>\n            {t('DropTorrent')}\n          </Button>\n        </MainSectionButtonGroup>\n        <SmallLabel mb={10}>{t('Info')}</SmallLabel>\n        <MainSectionButtonGroup>\n          {(isOnlyOnePlayableFile || !viewedFileList?.length) && (\n            <a style={{ textDecoration: 'none' }} href={fullPlaylistLink}>\n              <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\n                {t('DownloadPlaylist')}\n              </Button>\n            </a>\n          )}\n          <CopyToClipboard text={hash}>\n            <Button variant='contained' color='primary' size='large'>\n              {t('CopyHash')}\n            </Button>\n          </CopyToClipboard>\n        </MainSectionButtonGroup>\n      </>\n    )\n  },\n  () => true,\n)\n\nexport default TorrentFunctions\n","const getExt = filename => {\n  const ext = filename.split('.').pop()\n  if (ext === filename) return ''\n  return ext.toLowerCase()\n}\nconst playableExtList = [\n  // video\n  '3g2',\n  '3gp',\n  'aaf',\n  'asf',\n  'avchd',\n  'avi',\n  'drc',\n  'flv',\n  'iso',\n  'm2v',\n  'm2ts',\n  'm4p',\n  'm4v',\n  'mkv',\n  'mng',\n  'mov',\n  'mp2',\n  'mp4',\n  'mpe',\n  'mpeg',\n  'mpg',\n  'mpv',\n  'mxf',\n  'nsv',\n  'ogg',\n  'ogv',\n  'ts',\n  'qt',\n  'rm',\n  'rmvb',\n  'roq',\n  'svi',\n  'vob',\n  'webm',\n  'wmv',\n  'yuv',\n  // audio\n  'aac',\n  'aiff',\n  'ape',\n  'au',\n  'flac',\n  'gsm',\n  'it',\n  'm3u',\n  'm4a',\n  'mid',\n  'mod',\n  'mp3',\n  'mpa',\n  'pls',\n  'ra',\n  's3m',\n  'sid',\n  'wav',\n  'wma',\n  'xm',\n]\n\n// eslint-disable-next-line import/prefer-default-export\nexport const isFilePlayable = fileName => playableExtList.includes(getExt(fileName))\n","import { NoImageIcon } from 'icons'\nimport { humanizeSize, removeRedundantCharacters } from 'utils/Utils'\nimport { useEffect, useState } from 'react'\nimport { Button, ButtonGroup } from '@material-ui/core'\nimport ptt from 'parse-torrent-title'\nimport axios from 'axios'\nimport { viewedHost } from 'utils/Hosts'\nimport { GETTING_INFO, IN_DB } from 'torrentStates'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { useTranslation } from 'react-i18next'\n\nimport { useUpdateCache, useGetSettings } from './customHooks'\nimport DialogHeader from './DialogHeader'\nimport TorrentCache from './TorrentCache'\nimport Table from './Table'\nimport DetailedView from './DetailedView'\nimport {\n  DialogContentGrid,\n  MainSection,\n  Poster,\n  SectionTitle,\n  SectionSubName,\n  WidgetWrapper,\n  LoadingProgress,\n  SectionHeader,\n  CacheSection,\n  TorrentFilesSection,\n  Divider,\n} from './style'\nimport { DownlodSpeedWidget, UploadSpeedWidget, PeersWidget, SizeWidget, StatusWidget } from './widgets'\nimport TorrentFunctions from './TorrentFunctions'\nimport { isFilePlayable } from './helpers'\n\nconst Loader = () => (\n  <div style={{ minHeight: '80vh', display: 'grid', placeItems: 'center' }}>\n    <CircularProgress color='secondary' />\n  </div>\n)\n\nexport default function DialogTorrentDetailsContent({ closeDialog, torrent }) {\n  const { t } = useTranslation()\n  const [isLoading, setIsLoading] = useState(true)\n  const [isDetailedCacheView, setIsDetailedCacheView] = useState(false)\n  const [viewedFileList, setViewedFileList] = useState()\n  const [playableFileList, setPlayableFileList] = useState()\n  const [seasonAmount, setSeasonAmount] = useState(null)\n  const [selectedSeason, setSelectedSeason] = useState()\n\n  const {\n    poster,\n    hash,\n    title,\n    name,\n    stat,\n    download_speed: downloadSpeed,\n    upload_speed: uploadSpeed,\n    torrent_size: torrentSize,\n    file_stats: torrentFileList,\n  } = torrent\n\n  const cache = useUpdateCache(hash)\n  const settings = useGetSettings(cache)\n\n  const { Capacity, PiecesCount, PiecesLength, Filled } = cache\n\n  useEffect(() => {\n    if (playableFileList && seasonAmount === null) {\n      const seasons = []\n      playableFileList.forEach(({ path }) => {\n        const currentSeason = ptt.parse(path).season\n        if (currentSeason) {\n          !seasons.includes(currentSeason) && seasons.push(currentSeason)\n        }\n      })\n      seasons.length && setSelectedSeason(seasons[0])\n      setSeasonAmount(seasons.sort((a, b) => a - b))\n    }\n  }, [playableFileList, seasonAmount])\n\n  useEffect(() => {\n    setPlayableFileList(torrentFileList?.filter(({ path }) => isFilePlayable(path)))\n  }, [torrentFileList])\n\n  useEffect(() => {\n    const cacheLoaded = !!Object.entries(cache).length\n    const torrentLoaded = stat !== GETTING_INFO && stat !== IN_DB\n\n    if (!cacheLoaded && !isLoading) setIsLoading(true)\n    if (cacheLoaded && isLoading && torrentLoaded) setIsLoading(false)\n  }, [stat, cache, isLoading])\n\n  useEffect(() => {\n    // getting viewed file list\n    axios.post(viewedHost(), { action: 'list', hash }).then(({ data }) => {\n      if (data) {\n        const lst = data.map(itm => itm.file_index).sort((a, b) => a - b)\n        setViewedFileList(lst)\n      } else setViewedFileList()\n    })\n  }, [hash])\n\n  const preloadPerc = settings?.PreloadCache\n  const preloadSize = (Capacity / 100) * preloadPerc\n  const bufferSize = preloadSize > 33554432 ? preloadSize : 33554432 // Not less than 32MB\n\n  const getParsedTitle = () => {\n    const newNameStringArr = []\n\n    const torrentParsedName = name && ptt.parse(name)\n\n    if (title !== name) {\n      newNameStringArr.push(removeRedundantCharacters(title))\n    } else if (torrentParsedName?.title) newNameStringArr.push(removeRedundantCharacters(torrentParsedName?.title))\n\n    // These 2 checks are needed to get year and resolution from torrent name if title does not have this info\n    if (torrentParsedName?.year && !newNameStringArr[0].includes(torrentParsedName?.year))\n      newNameStringArr.push(torrentParsedName?.year)\n    if (torrentParsedName?.resolution && !newNameStringArr[0].includes(torrentParsedName?.resolution))\n      newNameStringArr.push(torrentParsedName?.resolution)\n\n    const newNameString = newNameStringArr.join('. ')\n\n    // removeRedundantCharacters is returning \"..\" if it was \"...\"\n    const lastDotShouldBeAdded =\n      newNameString[newNameString.length - 1] === '.' && newNameString[newNameString.length - 2] === '.'\n\n    return lastDotShouldBeAdded ? `${newNameString}.` : newNameString\n  }\n\n  return (\n    <>\n      <DialogHeader\n        onClose={closeDialog}\n        title={isDetailedCacheView ? t('DetailedCacheView.header') : t('TorrentDetails')}\n        {...(isDetailedCacheView && { onBack: () => setIsDetailedCacheView(false) })}\n      />\n\n      <div\n        style={{\n          minHeight: '80vh',\n          overflow: 'auto',\n          ...(isDetailedCacheView && { display: 'flex', flexDirection: 'column' }),\n        }}\n      >\n        {isLoading ? (\n          <Loader />\n        ) : isDetailedCacheView ? (\n          <DetailedView\n            downloadSpeed={downloadSpeed}\n            uploadSpeed={uploadSpeed}\n            torrent={torrent}\n            torrentSize={torrentSize}\n            PiecesCount={PiecesCount}\n            PiecesLength={PiecesLength}\n            stat={stat}\n            cache={cache}\n          />\n        ) : (\n          <DialogContentGrid>\n            <MainSection>\n              <Poster poster={poster}>{poster ? <img alt='poster' src={poster} /> : <NoImageIcon />}</Poster>\n\n              <div>\n                {title && name !== title ? (\n                  getParsedTitle().length > 90 ? (\n                    <>\n                      <SectionTitle>{ptt.parse(name).title}</SectionTitle>\n                      <SectionSubName mb={20}>{getParsedTitle()}</SectionSubName>\n                    </>\n                  ) : (\n                    <>\n                      <SectionTitle>{getParsedTitle()}</SectionTitle>\n                      <SectionSubName mb={20}>{ptt.parse(name || '')?.title}</SectionSubName>\n                    </>\n                  )\n                ) : (\n                  <SectionTitle mb={20}>{getParsedTitle()}</SectionTitle>\n                )}\n\n                <WidgetWrapper>\n                  <DownlodSpeedWidget data={downloadSpeed} />\n                  <UploadSpeedWidget data={uploadSpeed} />\n                  <PeersWidget data={torrent} />\n                  <SizeWidget data={torrentSize} />\n                  <StatusWidget stat={stat} />\n                </WidgetWrapper>\n\n                <Divider />\n\n                <TorrentFunctions\n                  hash={hash}\n                  viewedFileList={viewedFileList}\n                  playableFileList={playableFileList}\n                  name={name}\n                  title={title}\n                  setViewedFileList={setViewedFileList}\n                />\n              </div>\n            </MainSection>\n\n            <CacheSection>\n              <SectionHeader>\n                <SectionTitle mb={20}>{t('Buffer')}</SectionTitle>\n                {bufferSize <= 33554432 && <SectionSubName>{t('BufferNote')}</SectionSubName>}\n                <LoadingProgress\n                  value={Filled}\n                  fullAmount={bufferSize}\n                  label={`${humanizeSize(Filled) || '0 B'} / ${humanizeSize(bufferSize)}`}\n                />\n              </SectionHeader>\n\n              <TorrentCache isMini cache={cache} />\n              <Button\n                style={{ marginTop: '30px' }}\n                variant='contained'\n                color='primary'\n                size='large'\n                onClick={() => setIsDetailedCacheView(true)}\n              >\n                {t('DetailedCacheView.button')}\n              </Button>\n            </CacheSection>\n\n            <TorrentFilesSection>\n              <SectionTitle mb={20}>{t('TorrentContent')}</SectionTitle>\n\n              {seasonAmount?.length > 1 && (\n                <>\n                  <SectionSubName mb={7}>{t('SelectSeason')}</SectionSubName>\n                  <ButtonGroup style={{ marginBottom: '30px' }} color='secondary'>\n                    {seasonAmount.map(season => (\n                      <Button\n                        key={season}\n                        variant={selectedSeason === season ? 'contained' : 'outlined'}\n                        onClick={() => setSelectedSeason(season)}\n                      >\n                        {season}\n                      </Button>\n                    ))}\n                  </ButtonGroup>\n\n                  <SectionTitle mb={20}>\n                    {t('Season')} {selectedSeason}\n                  </SectionTitle>\n                </>\n              )}\n\n              <Table\n                hash={hash}\n                playableFileList={playableFileList}\n                viewedFileList={viewedFileList}\n                selectedSeason={selectedSeason}\n                seasonAmount={seasonAmount}\n              />\n            </TorrentFilesSection>\n          </DialogContentGrid>\n        )}\n      </div>\n    </>\n  )\n}\n","import { useTranslation } from 'react-i18next'\n\nexport default () => {\n  const { i18n } = useTranslation()\n  const currentLanguage = i18n.language === 'en-US' || i18n.language === 'en' ? 'en' : i18n.language\n\n  return [currentLanguage, lang => i18n.changeLanguage(lang)]\n}\n","import { useEffect, useRef } from 'react'\n\nexport default function usePreviousState(value) {\n  const ref = useRef(value)\n\n  useEffect(() => {\n    ref.current = value\n  }, [value])\n\n  return ref.current\n}\n","import styled, { css } from 'styled-components'\n\nexport const Header = styled.div`\n  ${({ theme: { primary } }) => css`\n    background: ${primary};\n    color: rgba(0, 0, 0, 0.87);\n    font-size: 20px;\n    color: #fff;\n    font-weight: 600;\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n    padding: 15px 24px;\n    position: relative;\n  `}\n`\n\nexport const ButtonWrapper = styled.div`\n  padding: 20px;\n  display: flex;\n  justify-content: flex-end;\n\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`\n","import axios from 'axios'\nimport parseTorrent from 'parse-torrent'\nimport ptt from 'parse-torrent-title'\n\nexport const getMoviePosters = (movieName, language = 'en') => {\n  const url = 'http://api.themoviedb.org/3/search/multi'\n\n  return axios\n    .get(url, {\n      params: {\n        api_key: process.env.REACT_APP_TMDB_API_KEY,\n        language,\n        include_image_language: `${language},null,en`,\n        query: movieName,\n      },\n    })\n    .then(({ data: { results } }) =>\n      results.filter(el => el.poster_path).map(el => `https://image.tmdb.org/t/p/w300${el.poster_path}`),\n    )\n    .catch(() => null)\n}\n\nexport const checkImageURL = async url => {\n  if (!url || !url.match(/.(jpg|jpeg|png|gif)$/i)) return false\n\n  try {\n    await fetch(url, { mode: 'no-cors' })\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\nconst magnetRegex = /^magnet:\\?xt=urn:[a-z0-9].*/i\nexport const hashRegex = /^\\b[0-9a-f]{32}\\b$|^\\b[0-9a-f]{40}\\b$|^\\b[0-9a-f]{64}\\b$/i\nconst torrentRegex = /^.*\\.(torrent)$/i\nexport const chechTorrentSource = source =>\n  source.match(hashRegex) !== null || source.match(magnetRegex) !== null || source.match(torrentRegex) !== null\n\nexport const parseTorrentTitle = (parsingSource, callback) => {\n  parseTorrent.remote(parsingSource, (err, { name, files } = {}) => {\n    if (!name || err) return callback({ parsedTitle: null, originalName: null })\n\n    const torrentName = ptt.parse(name).title\n    const nameOfFileInsideTorrent = files ? ptt.parse(files[0].name).title : null\n\n    let newTitle = torrentName\n    if (nameOfFileInsideTorrent) {\n      // taking shorter title because in most cases it is more accurate\n      newTitle = torrentName.length < nameOfFileInsideTorrent.length ? torrentName : nameOfFileInsideTorrent\n    }\n\n    callback({ parsedTitle: newTitle, originalName: name })\n  })\n}\n","import { Button } from '@material-ui/core'\nimport styled, { css } from 'styled-components'\n\nexport const Content = styled.div`\n  ${({\n    isEditMode,\n    theme: {\n      addDialog: { gradientStartColor, gradientEndColor, fontColor },\n    },\n  }) => css`\n    height: 550px;\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\n    flex: 1;\n    display: grid;\n    grid-template-columns: repeat(${isEditMode ? '1' : '2'}, 1fr);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n    overflow: auto;\n    color: ${fontColor};\n\n    @media (max-width: 540px) {\n      ${'' /* Just for bug fixing on small screens */}\n      overflow: scroll;\n    }\n\n    @media (max-width: 930px) {\n      grid-template-columns: 1fr;\n    }\n\n    @media (max-width: 500px) {\n      align-content: start;\n    }\n  `}\n`\n\nexport const RightSide = styled.div`\n  padding: 0 20px 20px 20px;\n`\n\nexport const RightSideContainer = styled.div`\n  ${({\n    isHidden,\n    notificationMessage,\n    isError,\n    theme: {\n      addDialog: { notificationErrorBGColor, notificationSuccessBGColor },\n    },\n  }) => css`\n    height: 530px;\n\n    ${notificationMessage &&\n    css`\n      position: relative;\n      white-space: nowrap;\n\n      :before {\n        font-size: 20px;\n        font-weight: 300;\n        content: '${notificationMessage}';\n        display: grid;\n        place-items: center;\n        background: ${isError ? notificationErrorBGColor : notificationSuccessBGColor};\n        padding: 10px 15px;\n        position: absolute;\n        top: 52%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        border-radius: 5px;\n      }\n    `};\n\n    ${isHidden &&\n    css`\n      display: none;\n    `};\n\n    @media (max-width: 500px) {\n      height: 170px;\n    }\n  `}\n`\nexport const LeftSide = styled.div`\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\n`\n\nexport const LeftSideBottomSectionBasicStyles = css`\n  transition: transform 0.3s;\n  padding: 20px;\n  height: 100%;\n  display: grid;\n`\n\nexport const LeftSideBottomSectionNoFile = styled.div`\n  ${LeftSideBottomSectionBasicStyles}\n  border: 4px dashed rgba(0,0,0,0.1);\n  text-align: center;\n\n  ${({ isDragActive }) => isDragActive && `border: 4px dashed green`};\n\n  justify-items: center;\n  grid-template-rows: 130px 1fr;\n  cursor: pointer;\n\n  :hover {\n    background-color: rgba(0, 0, 0, 0.04);\n    svg {\n      transform: translateY(-4%);\n    }\n  }\n\n  @media (max-width: 930px) {\n    border: 4px dashed transparent;\n    height: 400px;\n    place-items: center;\n    grid-template-rows: 40% 1fr;\n  }\n\n  @media (max-width: 500px) {\n    height: 170px;\n    grid-template-rows: 1fr;\n\n    > div:first-of-type {\n      display: none;\n    }\n  }\n`\n\nexport const LeftSideBottomSectionFileSelected = styled.div`\n  ${LeftSideBottomSectionBasicStyles}\n  place-items: center;\n\n  @media (max-width: 930px) {\n    height: 400px;\n  }\n\n  @media (max-width: 500px) {\n    height: 170px;\n  }\n`\n\nexport const TorrentIconWrapper = styled.div`\n  position: relative;\n`\n\nexport const CancelIconWrapper = styled.div`\n  position: absolute;\n  top: -9px;\n  left: 10px;\n  cursor: pointer;\n\n  > svg {\n    transition: all 0.3s;\n    fill: rgba(0, 0, 0, 0.7);\n\n    :hover {\n      fill: rgba(0, 0, 0, 0.6);\n    }\n  }\n`\n\nexport const IconWrapper = styled.div`\n  display: grid;\n  justify-items: center;\n  align-content: start;\n  gap: 10px;\n  align-self: start;\n\n  svg {\n    transition: all 0.3s;\n  }\n`\n\nexport const LeftSideTopSection = styled.div`\n  ${({\n    active,\n    theme: {\n      addDialog: { gradientStartColor },\n    },\n  }) => css`\n    background: ${gradientStartColor};\n    padding: 0 20px 20px 20px;\n    transition: all 0.3s;\n\n    ${active && 'box-shadow: 0 8px 10px -9px rgba(0, 0, 0, 0.5)'};\n  `}\n`\n\nexport const PosterWrapper = styled.div`\n  margin-top: 20px;\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  grid-template-rows: 300px max-content;\n  column-gap: 5px;\n  position: relative;\n  margin-bottom: 20px;\n\n  grid-template-areas:\n    'poster suggestions'\n    'clear empty';\n\n  @media (max-width: 540px) {\n    grid-template-columns: 1fr;\n    gap: 5px 0;\n    justify-items: center;\n    grid-template-areas:\n      'poster'\n      'clear'\n      'suggestions';\n  }\n`\n\nexport const PosterSuggestions = styled.div`\n  display: grid;\n  grid-area: suggestions;\n  grid-auto-flow: column;\n  grid-template-columns: repeat(3, max-content);\n  grid-template-rows: repeat(4, max-content);\n  gap: 5px;\n\n  @media (max-width: 540px) {\n    grid-auto-flow: row;\n    grid-template-columns: repeat(5, max-content);\n  }\n  @media (max-width: 375px) {\n    grid-template-columns: repeat(4, max-content);\n  }\n`\n\nexport const PosterSuggestionsItem = styled.div`\n  cursor: pointer;\n  width: 71px;\n  height: 71px;\n\n  @media (max-width: 430px) {\n    width: 60px;\n    height: 60px;\n  }\n\n  @media (max-width: 375px) {\n    width: 71px;\n    height: 71px;\n  }\n\n  @media (max-width: 355px) {\n    width: 60px;\n    height: 60px;\n  }\n\n  img {\n    transition: all 0.3s;\n    border-radius: 5px;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n\n    :hover {\n      filter: brightness(130%);\n    }\n  }\n`\n\nexport const Poster = styled.div`\n  ${({\n    poster,\n    theme: {\n      addDialog: { posterBGColor },\n    },\n  }) => css`\n    border-radius: 5px;\n    overflow: hidden;\n    width: 200px;\n    grid-area: poster;\n\n    ${poster\n      ? css`\n          img {\n            width: 200px;\n            object-fit: cover;\n            border-radius: 5px;\n            height: 100%;\n          }\n        `\n      : css`\n          display: grid;\n          place-items: center;\n          background: ${posterBGColor};\n\n          svg {\n            transform: scale(1.5) translateY(-3px);\n          }\n        `}\n  `}\n`\n\nexport const ClearPosterButton = styled(Button)`\n  grid-area: clear;\n  justify-self: center;\n  transform: translateY(-50%);\n  position: absolute;\n  ${({ showbutton }) => !showbutton && 'display: none'};\n\n  @media (max-width: 540px) {\n    transform: translateY(-140%);\n  }\n`\n\nexport const PosterLanguageSwitch = styled.div`\n  ${({\n    showbutton,\n    theme: {\n      addDialog: { languageSwitchBGColor, languageSwitchFontColor },\n    },\n  }) => css`\n    grid-area: poster;\n    z-index: 5;\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 30px;\n    height: 30px;\n    background: ${languageSwitchBGColor};\n    border-radius: 50%;\n    display: grid;\n    place-items: center;\n    color: ${languageSwitchFontColor};\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s;\n\n    ${!showbutton && 'display: none'};\n\n    :hover {\n      filter: brightness(1.1);\n    }\n  `}\n`\n","import { useTranslation } from 'react-i18next'\nimport { NoImageIcon } from 'icons'\nimport { IconButton, InputAdornment, TextField, useTheme } from '@material-ui/core'\nimport { CheckBox as CheckBoxIcon } from '@material-ui/icons'\n\nimport {\n  ClearPosterButton,\n  PosterLanguageSwitch,\n  RightSide,\n  Poster,\n  PosterSuggestions,\n  PosterSuggestionsItem,\n  PosterWrapper,\n  RightSideContainer,\n} from './style'\nimport { checkImageURL } from './helpers'\n\nexport default function RightSideComponent({\n  setTitle,\n  setPosterUrl,\n  setIsPosterUrlCorrect,\n  setIsUserInteractedWithPoster,\n  setPosterList,\n  isTorrentSourceCorrect,\n  isHashAlreadyExists,\n  title,\n  parsedTitle,\n  posterUrl,\n  isPosterUrlCorrect,\n  posterList,\n  currentLang,\n  posterSearchLanguage,\n  setPosterSearchLanguage,\n  posterSearch,\n  removePoster,\n  torrentSource,\n  originalTorrentTitle,\n  updateTitleFromSource,\n  isCustomTitleEnabled,\n  setIsCustomTitleEnabled,\n  isEditMode,\n}) {\n  const { t } = useTranslation()\n  const primary = useTheme().palette.primary.main\n\n  const handleTitleChange = ({ target: { value } }) => setTitle(value)\n  const handlePosterUrlChange = ({ target: { value } }) => {\n    setPosterUrl(value)\n    checkImageURL(value).then(setIsPosterUrlCorrect)\n    setIsUserInteractedWithPoster(!!value)\n    setPosterList()\n  }\n  const userChangesPosterUrl = url => {\n    setPosterUrl(url)\n    checkImageURL(url).then(setIsPosterUrlCorrect)\n    setIsUserInteractedWithPoster(true)\n  }\n\n  return (\n    <RightSide>\n      <RightSideContainer isHidden={!isTorrentSourceCorrect || (isHashAlreadyExists && !isEditMode)}>\n        {originalTorrentTitle ? (\n          <>\n            <TextField\n              value={originalTorrentTitle}\n              margin='dense'\n              label={t('AddDialog.OriginalTorrentTitle')}\n              type='text'\n              fullWidth\n              disabled={isCustomTitleEnabled}\n              InputProps={{ readOnly: true }}\n            />\n            <TextField\n              onChange={handleTitleChange}\n              onFocus={() => setIsCustomTitleEnabled(true)}\n              onBlur={({ target: { value } }) => !value && setIsCustomTitleEnabled(false)}\n              value={title}\n              margin='dense'\n              label={t('AddDialog.CustomTorrentTitle')}\n              type='text'\n              fullWidth\n              helperText={t('AddDialog.CustomTorrentTitleHelperText')}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position='end'>\n                    <IconButton\n                      style={{ padding: '0 0 0 7px' }}\n                      onClick={() => {\n                        setTitle('')\n                        setIsCustomTitleEnabled(!isCustomTitleEnabled)\n                        updateTitleFromSource()\n                        setIsUserInteractedWithPoster(false)\n                      }}\n                    >\n                      <CheckBoxIcon style={{ color: isCustomTitleEnabled ? primary : 'gray' }} />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </>\n        ) : (\n          <TextField\n            onChange={handleTitleChange}\n            value={title}\n            margin='dense'\n            label={t('AddDialog.TitleBlank')}\n            type='text'\n            fullWidth\n          />\n        )}\n        <TextField\n          onChange={handlePosterUrlChange}\n          value={posterUrl}\n          margin='dense'\n          label={t('AddDialog.AddPosterLinkInput')}\n          type='url'\n          fullWidth\n        />\n\n        <PosterWrapper>\n          <Poster poster={+isPosterUrlCorrect}>\n            {isPosterUrlCorrect ? <img src={posterUrl} alt='poster' /> : <NoImageIcon />}\n          </Poster>\n\n          <PosterSuggestions>\n            {posterList\n              ?.filter(url => url !== posterUrl)\n              .slice(0, 12)\n              .map(url => (\n                <PosterSuggestionsItem onClick={() => userChangesPosterUrl(url)} key={url}>\n                  <img src={url} alt='poster' />\n                </PosterSuggestionsItem>\n              ))}\n          </PosterSuggestions>\n\n          {currentLang !== 'en' && (\n            <PosterLanguageSwitch\n              onClick={() => {\n                const newLanguage = posterSearchLanguage === 'en' ? 'ru' : 'en'\n                setPosterSearchLanguage(newLanguage)\n                posterSearch(isCustomTitleEnabled ? title : originalTorrentTitle ? parsedTitle : title, newLanguage, {\n                  shouldRefreshMainPoster: true,\n                })\n              }}\n              showbutton={+isPosterUrlCorrect}\n              color='primary'\n              variant='contained'\n              size='small'\n            >\n              {posterSearchLanguage === 'en' ? 'EN' : 'RU'}\n            </PosterLanguageSwitch>\n          )}\n\n          <ClearPosterButton\n            showbutton={+isPosterUrlCorrect}\n            onClick={() => {\n              removePoster()\n              setIsUserInteractedWithPoster(true)\n            }}\n            color='primary'\n            variant='contained'\n            size='small'\n          >\n            {t('Clear')}\n          </ClearPosterButton>\n        </PosterWrapper>\n      </RightSideContainer>\n\n      <RightSideContainer\n        isError={torrentSource && (!isTorrentSourceCorrect || isHashAlreadyExists)}\n        notificationMessage={\n          !torrentSource\n            ? t('AddDialog.AddTorrentSourceNotification')\n            : !isTorrentSourceCorrect\n            ? t('AddDialog.WrongTorrentSource')\n            : isHashAlreadyExists && t('AddDialog.HashExists')\n        }\n        isHidden={isEditMode || (isTorrentSourceCorrect && !isHashAlreadyExists)}\n      />\n    </RightSide>\n  )\n}\n","import { useTranslation } from 'react-i18next'\nimport { useDropzone } from 'react-dropzone'\nimport { AddItemIcon, TorrentIcon } from 'icons'\nimport TextField from '@material-ui/core/TextField'\nimport { Cancel as CancelIcon } from '@material-ui/icons'\nimport { useState } from 'react'\n\nimport {\n  CancelIconWrapper,\n  IconWrapper,\n  LeftSide,\n  LeftSideBottomSectionFileSelected,\n  LeftSideBottomSectionNoFile,\n  LeftSideTopSection,\n  TorrentIconWrapper,\n} from './style'\n\nexport default function LeftSideComponent({\n  setIsUserInteractedWithPoster,\n  setSelectedFile,\n  torrentSource,\n  setTorrentSource,\n  selectedFile,\n}) {\n  const { t } = useTranslation()\n\n  const handleCapture = files => {\n    const [file] = files\n    if (!file) return\n\n    setIsUserInteractedWithPoster(false)\n    setSelectedFile(file)\n    setTorrentSource(file.name)\n  }\n\n  const clearSelectedFile = () => {\n    setSelectedFile()\n    setTorrentSource('')\n  }\n\n  const [isTorrentSourceActive, setIsTorrentSourceActive] = useState(false)\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop: handleCapture, accept: '.torrent' })\n\n  const handleTorrentSourceChange = ({ target: { value } }) => setTorrentSource(value)\n\n  return (\n    <LeftSide>\n      <LeftSideTopSection active={isTorrentSourceActive}>\n        <TextField\n          onChange={handleTorrentSourceChange}\n          value={torrentSource}\n          margin='dense'\n          label={t('AddDialog.TorrentSourceLink')}\n          helperText={t('AddDialog.TorrentSourceOptions')}\n          type='text'\n          fullWidth\n          onFocus={() => setIsTorrentSourceActive(true)}\n          onBlur={() => setIsTorrentSourceActive(false)}\n          inputProps={{ autoComplete: 'off' }}\n          disabled={!!selectedFile}\n        />\n      </LeftSideTopSection>\n\n      {selectedFile ? (\n        <LeftSideBottomSectionFileSelected>\n          <TorrentIconWrapper>\n            <TorrentIcon />\n\n            <CancelIconWrapper onClick={clearSelectedFile}>\n              <CancelIcon />\n            </CancelIconWrapper>\n          </TorrentIconWrapper>\n        </LeftSideBottomSectionFileSelected>\n      ) : (\n        <LeftSideBottomSectionNoFile isDragActive={isDragActive} {...getRootProps()}>\n          <input {...getInputProps()} />\n          <div>{t('AddDialog.AppendFile.Or')}</div>\n\n          <IconWrapper>\n            <AddItemIcon color='primary' />\n            <div>{t('AddDialog.AppendFile.ClickOrDrag')}</div>\n          </IconWrapper>\n        </LeftSideBottomSectionNoFile>\n      )}\n    </LeftSide>\n  )\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport { torrentsHost, torrentUploadHost } from 'utils/Hosts'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next'\nimport debounce from 'lodash/debounce'\nimport useChangeLanguage from 'utils/useChangeLanguage'\nimport { useMediaQuery } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport usePreviousState from 'utils/usePreviousState'\nimport { useQuery } from 'react-query'\nimport { getTorrents } from 'utils/Utils'\nimport parseTorrent from 'parse-torrent'\nimport { ButtonWrapper, Header } from 'style/DialogStyles'\n\nimport { checkImageURL, getMoviePosters, chechTorrentSource, parseTorrentTitle } from './helpers'\nimport { Content } from './style'\nimport RightSideComponent from './RightSideComponent'\nimport LeftSideComponent from './LeftSideComponent'\n\nexport default function AddDialog({\n  handleClose,\n  hash: originalHash,\n  title: originalTitle,\n  name: originalName,\n  poster: originalPoster,\n}) {\n  const { t } = useTranslation()\n  const isEditMode = !!originalHash\n  const [torrentSource, setTorrentSource] = useState(originalHash || '')\n  const [title, setTitle] = useState(originalTitle || '')\n  const [originalTorrentTitle, setOriginalTorrentTitle] = useState('')\n  const [parsedTitle, setParsedTitle] = useState('')\n  const [posterUrl, setPosterUrl] = useState(originalPoster || '')\n  const [isPosterUrlCorrect, setIsPosterUrlCorrect] = useState(false)\n  const [isTorrentSourceCorrect, setIsTorrentSourceCorrect] = useState(false)\n  const [isHashAlreadyExists, setIsHashAlreadyExists] = useState(false)\n  const [posterList, setPosterList] = useState()\n  const [isUserInteractedWithPoster, setIsUserInteractedWithPoster] = useState(isEditMode)\n  const [currentLang] = useChangeLanguage()\n  const [selectedFile, setSelectedFile] = useState()\n  const [posterSearchLanguage, setPosterSearchLanguage] = useState(currentLang === 'ru' ? 'ru' : 'en')\n  const [isSaving, setIsSaving] = useState(false)\n  const [skipDebounce, setSkipDebounce] = useState(false)\n  const [isCustomTitleEnabled, setIsCustomTitleEnabled] = useState(false)\n  const [currentSourceHash, setCurrentSourceHash] = useState()\n\n  const { data: torrents } = useQuery('torrents', getTorrents, { retry: 1, refetchInterval: 1000 })\n\n  useEffect(() => {\n    // getting hash from added torrent source\n    parseTorrent.remote(selectedFile || torrentSource, (_, { infoHash } = {}) => setCurrentSourceHash(infoHash))\n  }, [selectedFile, torrentSource])\n\n  useEffect(() => {\n    // checking if torrent already exists in DB\n    if (!setCurrentSourceHash) return\n\n    const allHashes = torrents.map(({ hash }) => hash)\n    setIsHashAlreadyExists(allHashes.includes(currentSourceHash))\n  }, [currentSourceHash, torrents])\n\n  useEffect(() => {\n    // closing dialog when torrent successfully added in DB\n    if (!isSaving) return\n\n    const allHashes = torrents.map(({ hash }) => hash)\n    allHashes.includes(currentSourceHash) && handleClose()\n  }, [isSaving, torrents, currentSourceHash, handleClose])\n\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\n\n  const updateTitleFromSource = useCallback(() => {\n    parseTorrentTitle(selectedFile || torrentSource, ({ parsedTitle, originalName }) => {\n      if (!originalName) return\n\n      setSkipDebounce(true)\n      setTitle('')\n      setIsCustomTitleEnabled(false)\n      setOriginalTorrentTitle(originalName)\n      setParsedTitle(parsedTitle)\n    })\n  }, [selectedFile, torrentSource])\n\n  useEffect(() => {\n    if (!selectedFile && !torrentSource) {\n      setTitle('')\n      setOriginalTorrentTitle('')\n      setParsedTitle('')\n      setIsCustomTitleEnabled(false)\n      setPosterList()\n      removePoster()\n      setIsUserInteractedWithPoster(false)\n    }\n  }, [selectedFile, torrentSource])\n\n  const removePoster = () => {\n    setIsPosterUrlCorrect(false)\n    setPosterUrl('')\n  }\n\n  useEffect(() => {\n    if (originalHash) {\n      checkImageURL(posterUrl).then(correctImage => {\n        correctImage ? setIsPosterUrlCorrect(true) : removePoster()\n      })\n    }\n    // This is needed only on mount. Do not remove line below\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const posterSearch = useMemo(\n    () =>\n      (movieName, language, { shouldRefreshMainPoster = false } = {}) => {\n        if (!movieName) {\n          setPosterList()\n          removePoster()\n          return\n        }\n\n        getMoviePosters(movieName, language).then(urlList => {\n          if (urlList) {\n            setPosterList(urlList)\n            if (!shouldRefreshMainPoster && isUserInteractedWithPoster) return\n\n            const [firstPoster] = urlList\n            checkImageURL(firstPoster).then(correctImage => {\n              if (correctImage) {\n                setIsPosterUrlCorrect(true)\n                setPosterUrl(firstPoster)\n              } else removePoster()\n            })\n          } else {\n            setPosterList()\n            if (isUserInteractedWithPoster) return\n\n            removePoster()\n          }\n        })\n      },\n    [isUserInteractedWithPoster],\n  )\n\n  const delayedPosterSearch = useMemo(() => debounce(posterSearch, 700), [posterSearch])\n\n  const prevTorrentSourceState = usePreviousState(torrentSource)\n\n  useEffect(() => {\n    const isCorrectSource = chechTorrentSource(torrentSource)\n    if (!isCorrectSource) return setIsTorrentSourceCorrect(false)\n\n    setIsTorrentSourceCorrect(true)\n\n    // if torrentSource is updated then we are getting title from the source\n    const torrentSourceChanged = torrentSource !== prevTorrentSourceState\n    if (!torrentSourceChanged) return\n\n    updateTitleFromSource()\n  }, [prevTorrentSourceState, selectedFile, torrentSource, updateTitleFromSource])\n\n  const prevTitleState = usePreviousState(title)\n\n  useEffect(() => {\n    // if title exists and title was changed then search poster.\n    const titleChanged = title !== prevTitleState\n    if (!titleChanged && !parsedTitle) return\n\n    if (skipDebounce) {\n      posterSearch(title || parsedTitle, posterSearchLanguage)\n      setSkipDebounce(false)\n    } else if (!title) {\n      delayedPosterSearch.cancel()\n\n      if (parsedTitle) {\n        posterSearch(parsedTitle, posterSearchLanguage)\n      } else {\n        !isUserInteractedWithPoster && removePoster()\n      }\n    } else {\n      delayedPosterSearch(title, posterSearchLanguage)\n    }\n  }, [\n    title,\n    parsedTitle,\n    prevTitleState,\n    delayedPosterSearch,\n    posterSearch,\n    posterSearchLanguage,\n    skipDebounce,\n    isUserInteractedWithPoster,\n  ])\n\n  const handleSave = () => {\n    setIsSaving(true)\n\n    if (isEditMode) {\n      axios\n        .post(torrentsHost(), {\n          action: 'set',\n          hash: originalHash,\n          title: title || originalName,\n          poster: posterUrl,\n        })\n        .finally(handleClose)\n    } else if (selectedFile) {\n      // file save\n      const data = new FormData()\n      data.append('save', 'true')\n      data.append('file', selectedFile)\n      title && data.append('title', title)\n      posterUrl && data.append('poster', posterUrl)\n      axios.post(torrentUploadHost(), data).catch(handleClose)\n    } else {\n      // link save\n      axios\n        .post(torrentsHost(), { action: 'add', link: torrentSource, title, poster: posterUrl, save_to_db: true })\n        .catch(handleClose)\n    }\n  }\n\n  return (\n    <Dialog open onClose={handleClose} fullScreen={fullScreen} fullWidth maxWidth='md'>\n      <Header>{t(isEditMode ? 'EditTorrent' : 'AddNewTorrent')}</Header>\n\n      <Content isEditMode={isEditMode}>\n        {!isEditMode && (\n          <LeftSideComponent\n            setIsUserInteractedWithPoster={setIsUserInteractedWithPoster}\n            setSelectedFile={setSelectedFile}\n            torrentSource={torrentSource}\n            setTorrentSource={setTorrentSource}\n            selectedFile={selectedFile}\n          />\n        )}\n\n        <RightSideComponent\n          originalTorrentTitle={originalTorrentTitle}\n          setTitle={setTitle}\n          setPosterUrl={setPosterUrl}\n          setIsPosterUrlCorrect={setIsPosterUrlCorrect}\n          setIsUserInteractedWithPoster={setIsUserInteractedWithPoster}\n          setPosterList={setPosterList}\n          isTorrentSourceCorrect={isTorrentSourceCorrect}\n          isHashAlreadyExists={isHashAlreadyExists}\n          title={title}\n          parsedTitle={parsedTitle}\n          posterUrl={posterUrl}\n          isPosterUrlCorrect={isPosterUrlCorrect}\n          posterList={posterList}\n          currentLang={currentLang}\n          posterSearchLanguage={posterSearchLanguage}\n          setPosterSearchLanguage={setPosterSearchLanguage}\n          posterSearch={posterSearch}\n          removePoster={removePoster}\n          updateTitleFromSource={updateTitleFromSource}\n          torrentSource={torrentSource}\n          isCustomTitleEnabled={isCustomTitleEnabled}\n          setIsCustomTitleEnabled={setIsCustomTitleEnabled}\n          isEditMode={isEditMode}\n        />\n      </Content>\n\n      <ButtonWrapper>\n        <Button onClick={handleClose} color='secondary' variant='outlined'>\n          {t('Cancel')}\n        </Button>\n\n        <Button\n          variant='contained'\n          style={{ minWidth: '110px' }}\n          disabled={!torrentSource || (isHashAlreadyExists && !isEditMode) || !isTorrentSourceCorrect}\n          onClick={handleSave}\n          color='primary'\n        >\n          {isSaving ? <CircularProgress style={{ color: 'white' }} size={20} /> : t(isEditMode ? 'Save' : 'Add')}\n        </Button>\n      </ButtonWrapper>\n    </Dialog>\n  )\n}\n","import styled, { css } from 'styled-components'\n\nexport const TorrentCard = styled.div`\n  ${({\n    theme: {\n      torrentCard: { cardPrimaryColor },\n    },\n  }) => css`\n    border-radius: 5px;\n    display: grid;\n    grid-template-columns: 120px 260px 1fr;\n    grid-template-rows: 180px;\n    grid-template-areas: 'poster description buttons';\n    gap: 10px;\n    padding: 10px;\n    background: ${cardPrimaryColor};\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n\n    @media (max-width: 1260px), (max-height: 500px) {\n      grid-template-areas:\n        'poster description'\n        'buttons buttons';\n\n      grid-template-columns: 70px 1fr;\n      grid-template-rows: 110px max-content;\n    }\n\n    @media (max-width: 770px) {\n      grid-template-columns: 60px 1fr;\n      grid-template-rows: 90px max-content;\n    }\n  `}\n`\n\nexport const TorrentCardPoster = styled.div`\n  grid-area: poster;\n  border-radius: 5px;\n  overflow: hidden;\n  text-align: center;\n\n  ${({\n    isPoster,\n    theme: {\n      torrentCard: { cardSecondaryColor, accentCardColor },\n    },\n  }) =>\n    isPoster\n      ? css`\n          img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            border-radius: 5px;\n          }\n        `\n      : css`\n          display: grid;\n          place-items: center;\n          background: ${cardSecondaryColor};\n          border: 1px solid ${accentCardColor};\n\n          svg {\n            transform: translateY(-3px);\n          }\n        `};\n\n  @media (max-width: 1260px), (max-height: 500px) {\n    svg {\n      width: 50%;\n    }\n  }\n`\n\nexport const TorrentCardButtons = styled.div`\n  grid-area: buttons;\n  display: grid;\n  gap: 10px;\n\n  @media (max-width: 1260px), (max-height: 500px) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  @media (max-width: 340px) {\n    gap: 5px;\n  }\n`\nexport const TorrentCardDescription = styled.div`\n  ${({\n    theme: {\n      torrentCard: { cardSecondaryColor, accentCardColor },\n    },\n  }) => css`\n    grid-area: description;\n    background: ${cardSecondaryColor};\n    border-radius: 5px;\n    padding: 5px;\n    display: grid;\n    grid-template-rows: 55% 1fr;\n    gap: 10px;\n\n    @media (max-width: 770px) {\n      grid-template-rows: 60% 1fr;\n      gap: 3px;\n    }\n\n    .description-title-wrapper {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .description-section-name {\n      text-transform: uppercase;\n      font-size: 10px;\n      font-weight: 600;\n      letter-spacing: 0.4px;\n      color: ${accentCardColor};\n\n      @media (max-width: 770px) {\n        font-size: 0.4rem;\n      }\n    }\n\n    .description-torrent-title {\n      overflow: auto;\n      word-break: break-all;\n    }\n\n    .description-statistics-wrapper {\n      display: grid;\n      grid-template-columns: 80px 80px 1fr;\n      align-self: end;\n\n      @media (max-width: 1260px), (max-height: 500px) {\n        grid-template-columns: 70px 70px 1fr;\n      }\n\n      @media (max-width: 770px) {\n        grid-template-columns: 65px 65px 1fr;\n      }\n\n      @media (max-width: 700px) {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n      }\n    }\n\n    .description-statistics-element-wrapper {\n    }\n\n    .description-statistics-element-value {\n      margin-left: 5px;\n      margin-bottom: 10px;\n      word-break: break-all;\n\n      @media (max-width: 1260px), (max-height: 500px) {\n        font-size: 0.7rem;\n        margin-bottom: 0;\n        margin-left: 0;\n      }\n    }\n\n    .description-torrent-title,\n    .description-statistics-element-value {\n      @media (max-width: 770px) {\n        font-size: 0.6rem;\n      }\n\n      @media (max-width: 410px) {\n        font-size: 10px;\n      }\n    }\n  `}\n`\n\nexport const StyledButton = styled.button`\n  ${({\n    theme: {\n      torrentCard: { buttonBGColor, accentCardColor },\n    },\n  }) => css`\n    border-radius: 5px;\n    border: none;\n    cursor: pointer;\n    transition: 0.2s;\n    display: flex;\n    align-items: center;\n    text-transform: uppercase;\n    background: ${buttonBGColor};\n    color: #fff;\n    font-size: 0.9rem;\n    letter-spacing: 0.009em;\n    padding: 0 12px;\n    svg {\n      width: 20px;\n    }\n\n    :hover {\n      background: ${accentCardColor};\n    }\n\n    > :first-child {\n      margin-right: 10px;\n    }\n\n    @media (max-width: 1260px), (max-height: 500px) {\n      padding: 7px 10px;\n      justify-content: center;\n      font-size: 0.8rem;\n\n      svg {\n        display: none;\n      }\n    }\n\n    @media (max-width: 770px) {\n      font-size: 0.7rem;\n    }\n\n    @media (max-width: 420px) {\n      font-size: 0.6rem;\n      padding: 7px 5px;\n    }\n  `}\n`\n","import { forwardRef, memo, useState } from 'react'\nimport {\n  UnfoldMore as UnfoldMoreIcon,\n  Edit as EditIcon,\n  Close as CloseIcon,\n  Delete as DeleteIcon,\n} from '@material-ui/icons'\nimport { getPeerString, humanizeSize, removeRedundantCharacters } from 'utils/Utils'\nimport { torrentsHost } from 'utils/Hosts'\nimport { NoImageIcon } from 'icons'\nimport DialogTorrentDetailsContent from 'components/DialogTorrentDetailsContent'\nimport Dialog from '@material-ui/core/Dialog'\nimport Slide from '@material-ui/core/Slide'\nimport { Button, DialogActions, DialogTitle, useMediaQuery, useTheme } from '@material-ui/core'\nimport axios from 'axios'\nimport ptt from 'parse-torrent-title'\nimport { useTranslation } from 'react-i18next'\nimport AddDialog from 'components/Add/AddDialog'\n\nimport { StyledButton, TorrentCard, TorrentCardButtons, TorrentCardDescription, TorrentCardPoster } from './style'\n\nconst Transition = forwardRef((props, ref) => <Slide direction='up' ref={ref} {...props} />)\n\nconst Torrent = ({ torrent }) => {\n  const { t } = useTranslation()\n  const [isDetailedInfoOpened, setIsDetailedInfoOpened] = useState(false)\n  const [isDeleteTorrentOpened, setIsDeleteTorrentOpened] = useState(false)\n\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('md'))\n\n  const openDetailedInfo = () => setIsDetailedInfoOpened(true)\n  const closeDetailedInfo = () => setIsDetailedInfoOpened(false)\n  const openDeleteTorrentAlert = () => setIsDeleteTorrentOpened(true)\n  const closeDeleteTorrentAlert = () => setIsDeleteTorrentOpened(false)\n\n  const { title, name, poster, torrent_size: torrentSize, download_speed: downloadSpeed, hash } = torrent\n\n  const dropTorrent = () => axios.post(torrentsHost(), { action: 'drop', hash })\n  const deleteTorrent = () => axios.post(torrentsHost(), { action: 'rem', hash })\n\n  const getParsedTitle = () => {\n    const parse = key => ptt.parse(title || '')?.[key] || ptt.parse(name || '')?.[key]\n\n    const titleStrings = []\n\n    let parsedTitle = removeRedundantCharacters(parse('title'))\n    const parsedYear = parse('year')\n    const parsedResolution = parse('resolution')\n    if (parsedTitle) titleStrings.push(parsedTitle)\n    if (parsedYear) titleStrings.push(`(${parsedYear})`)\n    if (parsedResolution) titleStrings.push(`[${parsedResolution}]`)\n    parsedTitle = titleStrings.join(' ')\n    return { parsedTitle }\n  }\n  const { parsedTitle } = getParsedTitle()\n\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\n  const handleClickOpenEditDialog = () => setIsEditDialogOpen(true)\n  const handleCloseEditDialog = () => setIsEditDialogOpen(false)\n\n  return (\n    <>\n      <TorrentCard>\n        <TorrentCardPoster isPoster={poster}>\n          {poster ? <img src={poster} alt='poster' /> : <NoImageIcon />}\n        </TorrentCardPoster>\n\n        <TorrentCardButtons>\n          <StyledButton onClick={openDetailedInfo}>\n            <UnfoldMoreIcon />\n            <span>{t('Details')}</span>\n          </StyledButton>\n\n          <StyledButton onClick={handleClickOpenEditDialog}>\n            <EditIcon />\n            <span>{t('Edit')}</span>\n          </StyledButton>\n\n          <StyledButton onClick={() => dropTorrent(torrent)}>\n            <CloseIcon />\n            <span>{t('Drop')}</span>\n          </StyledButton>\n\n          <StyledButton onClick={openDeleteTorrentAlert}>\n            <DeleteIcon />\n            <span>{t('Delete')}</span>\n          </StyledButton>\n        </TorrentCardButtons>\n\n        <TorrentCardDescription>\n          <div className='description-title-wrapper'>\n            <div className='description-section-name'>{t('Name')}</div>\n            <div className='description-torrent-title'>{parsedTitle}</div>\n          </div>\n\n          <div className='description-statistics-wrapper'>\n            <div className='description-statistics-element-wrapper'>\n              <div className='description-section-name'>{t('Size')}</div>\n              <div className='description-statistics-element-value'>{torrentSize > 0 && humanizeSize(torrentSize)}</div>\n            </div>\n\n            <div className='description-statistics-element-wrapper'>\n              <div className='description-section-name'>{t('Speed')}</div>\n              <div className='description-statistics-element-value'>\n                {downloadSpeed > 0 ? humanizeSize(downloadSpeed) : '---'}\n              </div>\n            </div>\n\n            <div className='description-statistics-element-wrapper'>\n              <div className='description-section-name'>{t('Peers')}</div>\n              <div className='description-statistics-element-value'>{getPeerString(torrent) || '---'}</div>\n            </div>\n          </div>\n        </TorrentCardDescription>\n      </TorrentCard>\n\n      <Dialog\n        open={isDetailedInfoOpened}\n        onClose={closeDetailedInfo}\n        fullScreen={fullScreen}\n        fullWidth\n        maxWidth='xl'\n        TransitionComponent={Transition}\n      >\n        <DialogTorrentDetailsContent closeDialog={closeDetailedInfo} torrent={torrent} />\n      </Dialog>\n\n      <Dialog open={isDeleteTorrentOpened} onClose={closeDeleteTorrentAlert}>\n        <DialogTitle>{t('DeleteTorrent?')}</DialogTitle>\n        <DialogActions>\n          <Button variant='outlined' onClick={closeDeleteTorrentAlert} color='primary'>\n            {t('Cancel')}\n          </Button>\n\n          <Button\n            variant='contained'\n            onClick={() => {\n              deleteTorrent(torrent)\n              closeDeleteTorrentAlert()\n            }}\n            color='primary'\n            autoFocus\n          >\n            {t('OK')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {isEditDialogOpen && (\n        <AddDialog hash={hash} title={title} name={name} poster={poster} handleClose={handleCloseEditDialog} />\n      )}\n    </>\n  )\n}\n\nexport default memo(Torrent)\n","import { rgba } from 'polished'\nimport styled, { css } from 'styled-components'\n\nexport const AppWrapper = styled.div`\n  ${({\n    theme: {\n      app: { appSecondaryColor },\n    },\n  }) => css`\n    height: 100%;\n    background: ${rgba(appSecondaryColor, 0.8)};\n    display: grid;\n    grid-template-columns: 60px 1fr;\n    grid-template-rows: 60px 1fr;\n    grid-template-areas:\n      'head head'\n      'side content';\n  `}\n`\n\nexport const CenteredGrid = styled.div`\n  height: 100%;\n  display: grid;\n  place-items: center;\n`\n\nexport const AppHeader = styled.div`\n  ${({ theme: { primary } }) => css`\n    background: ${primary};\n    color: #fff;\n    grid-area: head;\n    display: grid;\n    grid-auto-flow: column;\n    align-items: center;\n    grid-template-columns: repeat(2, max-content) 1fr;\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n    padding: 0 16px;\n    z-index: 3;\n  `}\n`\nexport const AppSidebarStyle = styled.div`\n  ${({\n    isDrawerOpen,\n    theme: {\n      app: { appSecondaryColor, sidebarBGColor, sidebarFillColor },\n    },\n  }) => css`\n    grid-area: side;\n    width: ${isDrawerOpen ? '400%' : '100%'};\n    z-index: 2;\n    overflow-x: hidden;\n    transition: width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;\n    border-right: 1px solid ${rgba(appSecondaryColor, 0.12)};\n    background: ${sidebarBGColor};\n    color: ${sidebarFillColor};\n    white-space: nowrap;\n\n    svg {\n      fill: ${sidebarFillColor};\n    }\n  `}\n`\nexport const TorrentListWrapper = styled.div`\n  grid-area: content;\n  padding: 20px;\n  overflow: auto;\n\n  display: grid;\n  place-content: start;\n  grid-template-columns: repeat(auto-fit, minmax(max-content, 570px));\n  gap: 20px;\n\n  @media (max-width: 1260px), (max-height: 500px) {\n    padding: 10px;\n    gap: 15px;\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 1100px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (max-width: 700px) {\n    grid-template-columns: 1fr;\n  }\n`\n\nexport const HeaderToggle = styled.div`\n  ${({\n    theme: {\n      app: { headerToggleColor },\n    },\n  }) => css`\n    cursor: pointer;\n    border-radius: 50%;\n    background: ${headerToggleColor};\n    height: 35px;\n    width: 35px;\n    transition: all 0.2s;\n    font-weight: 600;\n    display: grid;\n    place-items: center;\n    color: #fff;\n\n    :hover {\n      background: ${rgba(headerToggleColor, 0.9)};\n    }\n\n    @media (max-width: 700px) {\n      height: 28px;\n      width: 28px;\n      font-size: 12px;\n    }\n  `}\n`\n","import styled, { css } from 'styled-components'\n\nexport default styled.div`\n  ${({ isButton }) => css`\n    display: grid;\n    place-items: center;\n    padding: 20px 40px;\n    border-radius: 5px;\n\n    ${isButton &&\n    css`\n      background: #88cdaa;\n      transition: 0.2s;\n      cursor: pointer;\n\n      :hover {\n        background: #74c39c;\n      }\n    `}\n\n    lord-icon {\n      width: 200px;\n      height: 200px;\n    }\n\n    .icon-label {\n      font-size: 20px;\n    }\n  `}\n`\n","import { useTheme } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nimport IconWrapper from './style'\n\nexport default function NoServerConnection() {\n  const { t } = useTranslation()\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <IconWrapper>\n      <lord-icon\n        src='https://cdn.lordicon.com/wrprwmwt.json'\n        trigger='loop'\n        colors={`primary:#121331,secondary:${primary}`}\n        stroke='26'\n        scale='60'\n      />\n      <div className='icon-label'>{t('Offline')}</div>\n    </IconWrapper>\n  )\n}\n","import { useTheme } from '@material-ui/core'\nimport { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport AddDialog from '../Add/AddDialog'\nimport IconWrapper from './style'\n\nexport default function AddFirstTorrent() {\n  const { t } = useTranslation()\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const handleClickOpen = () => setIsDialogOpen(true)\n  const handleClose = () => setIsDialogOpen(false)\n  const primary = useTheme().palette.primary.main\n\n  return (\n    <>\n      <IconWrapper onClick={() => handleClickOpen(true)} isButton>\n        <lord-icon\n          src='https://cdn.lordicon.com/bbnkwdur.json'\n          trigger='loop'\n          colors={`primary:#121331,secondary:${primary}`}\n          stroke='26'\n          scale='60'\n        />\n        <div className='icon-label'>{t('NoTorrentsAdded')}</div>\n      </IconWrapper>\n\n      {isDialogOpen && <AddDialog handleClose={handleClose} />}\n    </>\n  )\n}\n","import TorrentCard from 'components/TorrentCard'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { TorrentListWrapper, CenteredGrid } from 'components/App/style'\n\nimport NoServerConnection from './NoServerConnection'\nimport AddFirstTorrent from './AddFirstTorrent'\n\nexport default function TorrentList({ isOffline, isLoading, torrents }) {\n  if (isLoading || isOffline || !torrents.length) {\n    return (\n      <CenteredGrid>\n        {isOffline ? (\n          <NoServerConnection />\n        ) : isLoading ? (\n          <CircularProgress color='secondary' />\n        ) : (\n          !torrents.length && <AddFirstTorrent />\n        )}\n      </CenteredGrid>\n    )\n  }\n\n  return (\n    <TorrentListWrapper>\n      {torrents.map(torrent => (\n        <TorrentCard key={torrent.hash} torrent={torrent} />\n      ))}\n    </TorrentListWrapper>\n  )\n}\n","import ListItem from '@material-ui/core/ListItem'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport List from '@material-ui/core/List'\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\nimport Button from '@material-ui/core/Button'\nimport { useTranslation } from 'react-i18next'\n\nconst donateFrame =\n  '<iframe src=\"https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=TorrServer Donate&targets-hint=&default-sum=200&button-text=14&payment-type-choice=on&mobile-payment-type-choice=on&comment=on&hint=&successURL=&quickpay=shop&account=410013733697114\" width=\"320\" height=\"320\" frameborder=\"0\" allowtransparency=\"true\" scrolling=\"no\"></iframe>'\n\nexport default function DonateDialog({ onClose }) {\n  const { t } = useTranslation()\n\n  return (\n    <Dialog open onClose={onClose} aria-labelledby='form-dialog-title' fullWidth maxWidth='xs'>\n      <DialogTitle id='form-dialog-title'>{t('Donate')}</DialogTitle>\n      <DialogContent>\n        <List>\n          <ListItem key='DonateLinks'>\n            <ButtonGroup variant='outlined' color='primary' aria-label='contained primary button group'>\n              <Button onClick={() => window.open('https://www.paypal.com/paypalme/yourok', '_blank')}>PayPal</Button>\n              <Button onClick={() => window.open('https://yoomoney.ru/to/410013733697114', '_blank')}>IO.Money</Button>\n            </ButtonGroup>\n          </ListItem>\n          <ListItem key='DonateForm'>\n            {/* eslint-disable-next-line react/no-danger */}\n            <div dangerouslySetInnerHTML={{ __html: donateFrame }} />\n          </ListItem>\n        </List>\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={onClose} color='secondary' variant='contained'>\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { useTranslation } from 'react-i18next'\n\nimport DonateDialog from './DonateDialog'\n\nexport default function DonateSnackbar() {\n  const { t } = useTranslation()\n  const [open, setOpen] = useState(false)\n  const [snackbarOpen, setSnackbarOpen] = useState(true)\n\n  const disableSnackbar = () => {\n    setSnackbarOpen(false)\n    localStorage.setItem('snackbarIsClosed', true)\n  }\n\n  return (\n    <>\n      {open && <DonateDialog onClose={() => setOpen(false)} />}\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        open={snackbarOpen}\n        onClose={disableSnackbar}\n        message={t('Donate?')}\n        action={\n          <>\n            <Button\n              style={{ marginRight: '10px' }}\n              color='secondary'\n              size='small'\n              onClick={() => {\n                setOpen(true)\n                disableSnackbar()\n              }}\n            >\n              <CreditCardIcon style={{ marginRight: '10px' }} fontSize='small' />\n              {t('Support')}\n            </Button>\n\n            <IconButton size='small' aria-label='close' color='inherit' onClick={disableSnackbar}>\n              <CloseIcon fontSize='small' />\n            </IconButton>\n          </>\n        }\n      />\n    </>\n  )\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport default createGlobalStyle`\n  *,\n  *::before,\n  *::after {  \n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n\n  body {  \n    font-family: \"Open Sans\", sans-serif;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    letter-spacing: -0.1px;\n  }\n\n  button {\n    font-family: \"Open Sans\", sans-serif;\n    letter-spacing: -0.1px;\n  }\n`\n","import { useState } from 'react'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport LibraryAddIcon from '@material-ui/icons/LibraryAdd'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItem from '@material-ui/core/ListItem'\nimport { useTranslation } from 'react-i18next'\n\nimport AddDialog from './AddDialog'\n\nexport default function AddDialogButton({ isOffline, isLoading }) {\n  const { t } = useTranslation()\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const handleClickOpen = () => setIsDialogOpen(true)\n  const handleClose = () => setIsDialogOpen(false)\n\n  return (\n    <div>\n      <ListItem disabled={isOffline || isLoading} button onClick={handleClickOpen}>\n        <ListItemIcon>\n          <LibraryAddIcon />\n        </ListItemIcon>\n        <ListItemText primary={t('AddFromLink')} />\n      </ListItem>\n\n      {isDialogOpen && <AddDialog handleClose={handleClose} />}\n    </div>\n  )\n}\n","import styled, { css } from 'styled-components'\nimport { mainColors } from 'style/colors'\nimport { Header } from 'style/DialogStyles'\n\nexport const cacheBeforeReaderColor = '#b3dfc9'\nexport const cacheAfterReaderColor = mainColors.light.primary\n\nexport const SettingsHeader = styled(Header)`\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: space-between;\n\n  @media (max-width: 340px) {\n    grid-auto-flow: row;\n  }\n`\n\nexport const FooterSection = styled.div`\n  ${({\n    theme: {\n      settingsDialog: { footerBG },\n    },\n  }) => css`\n    padding: 20px;\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: end;\n    gap: 10px;\n    align-items: center;\n    background: ${footerBG};\n\n    @media (max-width: 500px) {\n      grid-auto-flow: row;\n      justify-content: stretch;\n    }\n  `}\n`\nexport const Divider = styled.div`\n  height: 1px;\n  background-color: rgba(0, 0, 0, 0.12);\n  margin: 30px 0;\n`\n\nexport const Content = styled.div`\n  ${({\n    isLoading,\n    theme: {\n      settingsDialog: { contentBG },\n    },\n  }) => css`\n    background: ${contentBG};\n    overflow: auto;\n    flex: 1;\n\n    ${isLoading &&\n    css`\n      min-height: 500px;\n      display: grid;\n      place-items: center;\n    `}\n  `}\n`\n\nexport const PreloadCacheValue = styled.div`\n  ${({ color }) => css`\n    display: grid;\n    grid-template-columns: max-content 100px 1fr;\n    gap: 10px;\n    align-items: center;\n\n    :not(:last-child) {\n      margin-bottom: 5px;\n    }\n\n    :before {\n      content: '';\n      background: ${color};\n      width: 15px;\n      height: 15px;\n      border-radius: 50%;\n    }\n  `}\n`\n\nexport const MainSettingsContent = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 40px;\n  padding: 20px;\n\n  @media (max-width: 930px) {\n    grid-template-columns: 1fr;\n  }\n`\nexport const SecondarySettingsContent = styled.div`\n  padding: 20px;\n`\n\nexport const StorageButton = styled.div`\n  ${({ small, selected }) => css`\n    transition: 0.2s;\n    cursor: default;\n    text-align: center;\n\n    ${!selected &&\n    css`\n      cursor: pointer;\n\n      :hover {\n        filter: brightness(0.8);\n      }\n    `}\n\n    ${small\n      ? css`\n          display: grid;\n          grid-template-columns: max-content 1fr;\n          gap: 20px;\n          align-items: center;\n          justify-items: start;\n          margin-bottom: 20px;\n        `\n      : css`\n          display: grid;\n          place-items: center;\n          gap: 10px;\n        `}\n  `}\n`\n\nexport const StorageIconWrapper = styled.div`\n  ${({ selected, small }) => css`\n    width: ${small ? '60px' : '150px'};\n    height: ${small ? '60px' : '150px'};\n    border-radius: 50%;\n    background: ${selected ? '#323637' : '#dee3e5'};\n\n    svg {\n      transform: rotate(-45deg) scale(0.75);\n    }\n\n    @media (max-width: 930px) {\n      width: ${small ? '50px' : '90px'};\n      height: ${small ? '50px' : '90px'};\n    }\n  `}\n`\n\nexport const CacheStorageSelector = styled.div`\n  display: grid;\n  grid-template-rows: max-content 1fr;\n  grid-template-areas: 'label label';\n  place-items: center;\n\n  @media (max-width: 930px) {\n    justify-content: start;\n    column-gap: 30px;\n  }\n`\n\nexport const SettingSectionLabel = styled.div`\n  font-size: 25px;\n  padding-bottom: 20px;\n\n  small {\n    display: block;\n    font-size: 11px;\n  }\n`\n\nexport const PreloadCachePercentage = styled.div.attrs(({ value }) => ({\n  // this block is here according to styled-components recomendation about fast changable components\n  style: {\n    background: `linear-gradient(to right, ${cacheBeforeReaderColor} 0%, ${cacheBeforeReaderColor} ${value}%, ${cacheAfterReaderColor} ${value}%, ${cacheAfterReaderColor} 100%)`,\n  },\n}))`\n  ${({ label, preloadCachePercentage }) => css`\n    border: 1px solid #323637;\n    padding: 10px 20px;\n    border-radius: 5px;\n    color: #000;\n    margin-bottom: 10px;\n    position: relative;\n\n    :before {\n      content: '${label}';\n      display: grid;\n      place-items: center;\n      font-size: 20px;\n    }\n\n    :after {\n      content: '';\n      width: ${preloadCachePercentage}%;\n      height: 100%;\n      background: #323637;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      border-radius: 4px;\n      filter: opacity(0.15);\n    }\n  `}\n`\n","export default {\n  CacheSize: 96,\n  ReaderReadAHead: 95,\n  UseDisk: false,\n  UploadRateLimit: 0,\n  TorrentsSavePath: '',\n  ConnectionsLimit: 23,\n  DhtConnectionLimit: 500,\n  DisableDHT: false,\n  DisablePEX: false,\n  DisableTCP: false,\n  DisableUPNP: false,\n  DisableUTP: true,\n  DisableUpload: false,\n  DownloadRateLimit: 0,\n  EnableDebug: false,\n  EnableIPv6: false,\n  ForceEncrypt: false,\n  PeersListenPort: 0,\n  PreloadCache: 0,\n  RemoveCacheOnDrop: false,\n  RetrackersMode: 1,\n  Strategy: 0,\n  TorrentDisconnectTimeout: 30,\n}\n","export const a11yProps = index => ({\n  id: `full-width-tab-${index}`,\n  'aria-controls': `full-width-tabpanel-${index}`,\n})\n\nexport const TabPanel = ({ children, value, index, ...other }) => (\n  <div role='tabpanel' hidden={value !== index} id={`full-width-tabpanel-${index}`} {...other}>\n    {value === index && <>{children}</>}\n  </div>\n)\n","import { Grid, Input, Slider } from '@material-ui/core'\n\nexport default function SliderInput({\n  isProMode,\n  title,\n  value,\n  setValue,\n  sliderMin,\n  sliderMax,\n  inputMin,\n  inputMax,\n  step = 1,\n  onBlurCallback,\n}) {\n  const onBlur = ({ target: { value } }) => {\n    if (value < inputMin) return setValue(inputMin)\n    if (value > inputMax) return setValue(inputMax)\n\n    onBlurCallback && onBlurCallback(value)\n  }\n\n  const onInputChange = ({ target: { value } }) => setValue(value === '' ? '' : Number(value))\n  const onSliderChange = (_, newValue) => setValue(newValue)\n\n  return (\n    <>\n      <div>{title}</div>\n\n      <Grid container spacing={2} alignItems='center'>\n        <Grid item xs>\n          <Slider\n            min={sliderMin}\n            max={sliderMax}\n            value={value}\n            onChange={onSliderChange}\n            step={step}\n            color='secondary'\n          />\n        </Grid>\n\n        {isProMode && (\n          <Grid item>\n            <Input\n              value={value}\n              margin='dense'\n              onChange={onInputChange}\n              onBlur={onBlur}\n              style={{ width: '65px' }}\n              inputProps={{ step, min: inputMin, max: inputMax, type: 'number' }}\n            />\n          </Grid>\n        )}\n      </Grid>\n    </>\n  )\n}\n","import { useTranslation } from 'react-i18next'\nimport { USBIcon, RAMIcon } from 'icons'\nimport { FormControlLabel, Switch } from '@material-ui/core'\nimport TextField from '@material-ui/core/TextField'\n\nimport {\n  PreloadCacheValue,\n  MainSettingsContent,\n  StorageButton,\n  StorageIconWrapper,\n  CacheStorageSelector,\n  SettingSectionLabel,\n  PreloadCachePercentage,\n  cacheBeforeReaderColor,\n  cacheAfterReaderColor,\n} from './style'\nimport SliderInput from './SliderInput'\n\nconst CacheStorageLocationLabel = ({ style }) => {\n  const { t } = useTranslation()\n\n  return (\n    <SettingSectionLabel style={style}>\n      {t('SettingsDialog.CacheStorageLocation')}\n      <small>{t('SettingsDialog.UseDiskDesc')}</small>\n    </SettingSectionLabel>\n  )\n}\n\nexport default function PrimarySettingsComponent({\n  settings,\n  inputForm,\n  cachePercentage,\n  preloadCachePercentage,\n  cacheSize,\n  isProMode,\n  setCacheSize,\n  setCachePercentage,\n  setPreloadCachePercentage,\n  updateSettings,\n}) {\n  const { t } = useTranslation()\n  const { UseDisk, TorrentsSavePath, RemoveCacheOnDrop } = settings || {}\n  const preloadCacheSize = Math.round((cacheSize / 100) * preloadCachePercentage)\n\n  return (\n    <MainSettingsContent>\n      <div>\n        <SettingSectionLabel>{t('SettingsDialog.CacheSettings')}</SettingSectionLabel>\n\n        <PreloadCachePercentage\n          value={100 - cachePercentage}\n          label={`${t('Cache')} ${cacheSize} MB`}\n          preloadCachePercentage={preloadCachePercentage}\n        />\n\n        <PreloadCacheValue color={cacheBeforeReaderColor}>\n          <div>\n            {100 - cachePercentage}% ({Math.round((cacheSize / 100) * (100 - cachePercentage))} MB)\n          </div>\n\n          <div>{t('SettingsDialog.CacheBeforeReaderDesc')}</div>\n        </PreloadCacheValue>\n\n        <PreloadCacheValue color={cacheAfterReaderColor}>\n          <div>\n            {cachePercentage}% ({Math.round((cacheSize / 100) * cachePercentage)} MB)\n          </div>\n\n          <div>{t('SettingsDialog.CacheAfterReaderDesc')}</div>\n        </PreloadCacheValue>\n\n        <br />\n\n        <SliderInput\n          isProMode={isProMode}\n          title={t('SettingsDialog.CacheSize')}\n          value={cacheSize}\n          setValue={setCacheSize}\n          sliderMin={32}\n          sliderMax={1024}\n          inputMin={32}\n          inputMax={20000}\n          step={8}\n          onBlurCallback={value => setCacheSize(Math.round(value / 8) * 8)}\n        />\n\n        <SliderInput\n          isProMode={isProMode}\n          title={t('SettingsDialog.ReaderReadAHead')}\n          value={cachePercentage}\n          setValue={setCachePercentage}\n          sliderMin={40}\n          sliderMax={95}\n          inputMin={0}\n          inputMax={100}\n        />\n\n        <SliderInput\n          isProMode={isProMode}\n          title={`${t('SettingsDialog.PreloadCache')} - ${preloadCachePercentage}% (${preloadCacheSize} MB)`}\n          value={preloadCachePercentage}\n          setValue={setPreloadCachePercentage}\n          sliderMin={0}\n          sliderMax={100}\n          inputMin={0}\n          inputMax={100}\n        />\n      </div>\n\n      {UseDisk ? (\n        <div>\n          <CacheStorageLocationLabel />\n\n          <div style={{ display: 'grid', gridAutoFlow: 'column' }}>\n            <StorageButton small onClick={() => updateSettings({ UseDisk: false })}>\n              <StorageIconWrapper small>\n                <RAMIcon color='#323637' />\n              </StorageIconWrapper>\n\n              <div>{t('SettingsDialog.RAM')}</div>\n            </StorageButton>\n\n            <StorageButton small selected>\n              <StorageIconWrapper small selected>\n                <USBIcon color='#dee3e5' />\n              </StorageIconWrapper>\n\n              <div>{t('SettingsDialog.Disk')}</div>\n            </StorageButton>\n          </div>\n\n          <FormControlLabel\n            control={\n              <Switch checked={RemoveCacheOnDrop} onChange={inputForm} id='RemoveCacheOnDrop' color='secondary' />\n            }\n            label={t('SettingsDialog.RemoveCacheOnDrop')}\n          />\n          <div>\n            <small>{t('SettingsDialog.RemoveCacheOnDropDesc')}</small>\n          </div>\n\n          <TextField\n            onChange={inputForm}\n            margin='dense'\n            id='TorrentsSavePath'\n            label={t('SettingsDialog.TorrentsSavePath')}\n            value={TorrentsSavePath}\n            type='url'\n            fullWidth\n          />\n        </div>\n      ) : (\n        <CacheStorageSelector>\n          <CacheStorageLocationLabel style={{ placeSelf: 'start', gridArea: 'label' }} />\n\n          <StorageButton selected>\n            <StorageIconWrapper selected>\n              <RAMIcon color='#dee3e5' />\n            </StorageIconWrapper>\n\n            <div>{t('SettingsDialog.RAM')}</div>\n          </StorageButton>\n\n          <StorageButton onClick={() => updateSettings({ UseDisk: true })}>\n            <StorageIconWrapper>\n              <USBIcon color='#323637' />\n            </StorageIconWrapper>\n\n            <div>{t('SettingsDialog.Disk')}</div>\n          </StorageButton>\n        </CacheStorageSelector>\n      )}\n    </MainSettingsContent>\n  )\n}\n","import { useTranslation } from 'react-i18next'\nimport TextField from '@material-ui/core/TextField'\nimport { FormControlLabel, InputLabel, Select, Switch } from '@material-ui/core'\n\nimport { SecondarySettingsContent, SettingSectionLabel } from './style'\n\nexport default function SecondarySettingsComponent({ settings, inputForm }) {\n  const { t } = useTranslation()\n\n  const {\n    RetrackersMode,\n    TorrentDisconnectTimeout,\n    EnableIPv6,\n    ForceEncrypt,\n    DisableTCP,\n    DisableUTP,\n    DisableUPNP,\n    DisableDHT,\n    DisablePEX,\n    DisableUpload,\n    DownloadRateLimit,\n    UploadRateLimit,\n    ConnectionsLimit,\n    DhtConnectionLimit,\n    PeersListenPort,\n  } = settings || {}\n\n  return (\n    <SecondarySettingsContent>\n      <SettingSectionLabel>{t('SettingsDialog.AdditionalSettings')}</SettingSectionLabel>\n\n      <FormControlLabel\n        control={<Switch checked={EnableIPv6} onChange={inputForm} id='EnableIPv6' color='secondary' />}\n        label='IPv6'\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisableTCP} onChange={inputForm} id='DisableTCP' color='secondary' />}\n        label='TCP (Transmission Control Protocol)'\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisableUTP} onChange={inputForm} id='DisableUTP' color='secondary' />}\n        label='TP (Micro Transport Protocol)'\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisablePEX} onChange={inputForm} id='DisablePEX' color='secondary' />}\n        label='PEX (Peer Exchange)'\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={ForceEncrypt} onChange={inputForm} id='ForceEncrypt' color='secondary' />}\n        label={t('SettingsDialog.ForceEncrypt')}\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='TorrentDisconnectTimeout'\n        label={t('SettingsDialog.TorrentDisconnectTimeout')}\n        value={TorrentDisconnectTimeout}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='ConnectionsLimit'\n        label={t('SettingsDialog.ConnectionsLimit')}\n        value={ConnectionsLimit}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisableDHT} onChange={inputForm} id='DisableDHT' color='secondary' />}\n        label={t('SettingsDialog.DHT')}\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='DhtConnectionLimit'\n        label={t('SettingsDialog.DhtConnectionLimit')}\n        value={DhtConnectionLimit}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='DownloadRateLimit'\n        label={t('SettingsDialog.DownloadRateLimit')}\n        value={DownloadRateLimit}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisableUpload} onChange={inputForm} id='DisableUpload' color='secondary' />}\n        label={t('SettingsDialog.Upload')}\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='UploadRateLimit'\n        label={t('SettingsDialog.UploadRateLimit')}\n        value={UploadRateLimit}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <TextField\n        onChange={inputForm}\n        margin='dense'\n        id='PeersListenPort'\n        label={t('SettingsDialog.PeersListenPort')}\n        value={PeersListenPort}\n        type='number'\n        fullWidth\n      />\n      <br />\n      <FormControlLabel\n        control={<Switch checked={!DisableUPNP} onChange={inputForm} id='DisableUPNP' color='secondary' />}\n        label='UPnP (Universal Plug and Play)'\n      />\n      <br />\n      <InputLabel htmlFor='RetrackersMode'>{t('SettingsDialog.RetrackersMode')}</InputLabel>\n      <Select onChange={inputForm} type='number' native id='RetrackersMode' value={RetrackersMode}>\n        <option value={0}>{t('SettingsDialog.DontAddRetrackers')}</option>\n        <option value={1}>{t('SettingsDialog.AddRetrackers')}</option>\n        <option value={2}>{t('SettingsDialog.RemoveRetrackers')}</option>\n        <option value={3}>{t('SettingsDialog.ReplaceRetrackers')}</option>\n      </Select>\n      <br />\n    </SecondarySettingsContent>\n  )\n}\n","import axios from 'axios'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { FormControlLabel, useMediaQuery, useTheme } from '@material-ui/core'\nimport { settingsHost } from 'utils/Hosts'\nimport { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport SwipeableViews from 'react-swipeable-views'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport { SettingsHeader, FooterSection, Content } from './style'\nimport defaultSettings from './defaultSettings'\nimport { a11yProps, TabPanel } from './tabComponents'\nimport PrimarySettingsComponent from './PrimarySettingsComponent'\nimport SecondarySettingsComponent from './SecondarySettingsComponent'\n\nexport default function SettingsDialog({ handleClose }) {\n  const { t } = useTranslation()\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\n  const { direction } = useTheme()\n\n  const [settings, setSettings] = useState()\n  const [selectedTab, setSelectedTab] = useState(0)\n  const [cacheSize, setCacheSize] = useState(32)\n  const [cachePercentage, setCachePercentage] = useState(40)\n  const [preloadCachePercentage, setPreloadCachePercentage] = useState(0)\n  const [isProMode, setIsProMode] = useState(JSON.parse(localStorage.getItem('isProMode')) || false)\n\n  useEffect(() => {\n    axios.post(settingsHost(), { action: 'get' }).then(({ data }) => {\n      setSettings({ ...data, CacheSize: data.CacheSize / (1024 * 1024) })\n    })\n  }, [])\n\n  const handleSave = () => {\n    handleClose()\n    const sets = JSON.parse(JSON.stringify(settings))\n    sets.CacheSize = cacheSize * 1024 * 1024\n    sets.ReaderReadAHead = cachePercentage\n    sets.PreloadCache = preloadCachePercentage\n    axios.post(settingsHost(), { action: 'set', sets })\n  }\n\n  const inputForm = ({ target: { type, value, checked, id } }) => {\n    const sets = JSON.parse(JSON.stringify(settings))\n\n    if (type === 'number' || type === 'select-one') {\n      sets[id] = Number(value)\n    } else if (type === 'checkbox') {\n      if (\n        id === 'DisableTCP' ||\n        id === 'DisableUTP' ||\n        id === 'DisableUPNP' ||\n        id === 'DisableDHT' ||\n        id === 'DisablePEX' ||\n        id === 'DisableUpload'\n      )\n        sets[id] = Boolean(!checked)\n      else sets[id] = Boolean(checked)\n    } else if (type === 'url') {\n      sets[id] = value\n    }\n    setSettings(sets)\n  }\n\n  const { CacheSize, ReaderReadAHead, PreloadCache } = settings || {}\n\n  useEffect(() => {\n    if (!CacheSize || !ReaderReadAHead || isNaN(PreloadCache)) return\n\n    setCacheSize(CacheSize)\n    setCachePercentage(ReaderReadAHead)\n    setPreloadCachePercentage(PreloadCache)\n  }, [CacheSize, ReaderReadAHead, PreloadCache])\n\n  const updateSettings = newProps => setSettings({ ...settings, ...newProps })\n  const handleChange = (_, newValue) => setSelectedTab(newValue)\n  const handleChangeIndex = index => setSelectedTab(index)\n\n  return (\n    <Dialog open onClose={handleClose} fullScreen={fullScreen} fullWidth maxWidth='md'>\n      <SettingsHeader>\n        <div>{t('SettingsDialog.Settings')}</div>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={isProMode}\n              onChange={({ target: { checked } }) => {\n                setIsProMode(checked)\n                localStorage.setItem('isProMode', checked)\n                if (!checked) setSelectedTab(0)\n              }}\n              style={{ color: 'white' }}\n            />\n          }\n          label={t('SettingsDialog.ProMode')}\n        />\n      </SettingsHeader>\n\n      <AppBar position='static' color='default'>\n        <Tabs\n          value={selectedTab}\n          onChange={handleChange}\n          indicatorColor='secondary'\n          textColor='secondary'\n          variant='fullWidth'\n        >\n          <Tab label={t('SettingsDialog.Tabs.Main')} {...a11yProps(0)} />\n\n          <Tab\n            disabled={!isProMode}\n            label={\n              <>\n                <div>{t('SettingsDialog.Tabs.Additional')}</div>\n                {!isProMode && <div style={{ fontSize: '9px' }}>{t('SettingsDialog.Tabs.AdditionalDisabled')}</div>}\n              </>\n            }\n            {...a11yProps(1)}\n          />\n        </Tabs>\n      </AppBar>\n\n      <Content isLoading={!settings}>\n        {settings ? (\n          <>\n            <SwipeableViews\n              axis={direction === 'rtl' ? 'x-reverse' : 'x'}\n              index={selectedTab}\n              onChangeIndex={handleChangeIndex}\n            >\n              <TabPanel value={selectedTab} index={0} dir={direction}>\n                <PrimarySettingsComponent\n                  settings={settings}\n                  inputForm={inputForm}\n                  cachePercentage={cachePercentage}\n                  preloadCachePercentage={preloadCachePercentage}\n                  cacheSize={cacheSize}\n                  isProMode={isProMode}\n                  setCacheSize={setCacheSize}\n                  setCachePercentage={setCachePercentage}\n                  setPreloadCachePercentage={setPreloadCachePercentage}\n                  updateSettings={updateSettings}\n                />\n              </TabPanel>\n\n              <TabPanel value={selectedTab} index={1} dir={direction}>\n                <SecondarySettingsComponent settings={settings} inputForm={inputForm} />\n              </TabPanel>\n            </SwipeableViews>\n          </>\n        ) : (\n          <CircularProgress color='secondary' />\n        )}\n      </Content>\n\n      <FooterSection>\n        <Button onClick={handleClose} color='secondary' variant='outlined'>\n          {t('Cancel')}\n        </Button>\n\n        <Button\n          onClick={() => {\n            setCacheSize(defaultSettings.CacheSize)\n            setCachePercentage(defaultSettings.ReaderReadAHead)\n            setPreloadCachePercentage(defaultSettings.PreloadCache)\n            updateSettings(defaultSettings)\n          }}\n          color='secondary'\n          variant='outlined'\n        >\n          {t('SettingsDialog.ResetToDefault')}\n        </Button>\n\n        <Button variant='contained' onClick={handleSave} color='secondary'>\n          {t('Save')}\n        </Button>\n      </FooterSection>\n    </Dialog>\n  )\n}\n","import ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { useState } from 'react'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { useTranslation } from 'react-i18next'\n\nimport SettingsDialog from './SettingsDialog'\n\nexport default function SettingsDialogButton({ isOffline, isLoading }) {\n  const { t } = useTranslation()\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n\n  const handleClickOpen = () => setIsDialogOpen(true)\n  const handleClose = () => setIsDialogOpen(false)\n\n  return (\n    <div>\n      <ListItem disabled={isOffline || isLoading} button onClick={handleClickOpen}>\n        <ListItemIcon>\n          <SettingsIcon />\n        </ListItemIcon>\n        <ListItemText primary={t('SettingsDialog.Settings')} />\n      </ListItem>\n\n      {isDialogOpen && <SettingsDialog handleClose={handleClose} />}\n    </div>\n  )\n}\n","import { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { useState } from 'react'\nimport { torrentsHost } from 'utils/Hosts'\nimport { useTranslation } from 'react-i18next'\n\nconst fnRemoveAll = () => {\n  fetch(torrentsHost(), {\n    method: 'post',\n    body: JSON.stringify({ action: 'list' }),\n    headers: {\n      Accept: 'application/json, text/plain, */*',\n      'Content-Type': 'application/json',\n    },\n  })\n    .then(res => res.json())\n    .then(json => {\n      json.forEach(torr => {\n        fetch(torrentsHost(), {\n          method: 'post',\n          body: JSON.stringify({ action: 'rem', hash: torr.hash }),\n          headers: {\n            Accept: 'application/json, text/plain, */*',\n            'Content-Type': 'application/json',\n          },\n        })\n      })\n    })\n}\n\nexport default function RemoveAll({ isOffline, isLoading }) {\n  const { t } = useTranslation()\n  const [open, setOpen] = useState(false)\n  const closeDialog = () => setOpen(false)\n  const openDialog = () => setOpen(true)\n\n  return (\n    <>\n      <ListItem disabled={isOffline || isLoading} button key={t('RemoveAll')} onClick={openDialog}>\n        <ListItemIcon>\n          <DeleteIcon />\n        </ListItemIcon>\n\n        <ListItemText primary={t('RemoveAll')} />\n      </ListItem>\n\n      <Dialog open={open} onClose={closeDialog}>\n        <DialogTitle>{t('DeleteTorrents?')}</DialogTitle>\n        <DialogActions>\n          <Button variant='outlined' onClick={closeDialog} color='secondary'>\n            {t('Cancel')}\n          </Button>\n\n          <Button\n            variant='contained'\n            onClick={() => {\n              fnRemoveAll()\n              closeDialog()\n            }}\n            color='secondary'\n            autoFocus\n          >\n            {t('OK')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import styled, { css } from 'styled-components'\n\nexport const DialogWrapper = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-rows: max-content 1fr max-content;\n`\n\nexport const HeaderSection = styled.section`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 36px;\n  font-weight: 300;\n  padding: 20px;\n\n  img {\n    width: 64px;\n  }\n\n  @media (max-width: 930px) {\n    font-size: 30px;\n    padding: 10px 20px;\n\n    img {\n      width: 60px;\n    }\n  }\n`\n\nexport const ThanksSection = styled.section`\n  padding: 20px;\n  text-align: center;\n  font-size: 24px;\n  font-weight: 300;\n  background: #e8e5eb;\n  color: #323637;\n\n  @media (max-width: 930px) {\n    font-size: 20px;\n    padding: 30px 20px;\n  }\n`\n\nexport const Section = styled.section`\n  padding: 20px;\n\n  > span {\n    font-size: 20px;\n    display: block;\n    margin-bottom: 15px;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  > div {\n    display: grid;\n    gap: 10px;\n    grid-template-columns: repeat(4, max-content);\n\n    @media (max-width: 930px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 780px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (max-width: 550px) {\n      grid-template-columns: 1fr;\n    }\n  }\n`\n\nexport const FooterSection = styled.div`\n  padding: 20px;\n  display: flex;\n  justify-content: flex-end;\n  background: #e8e5eb;\n`\n\nexport const LinkWrapper = styled.a`\n  ${({ isLink }) => css`\n    display: inline-flex;\n    align-items: center;\n    justify-content: start;\n    border: 1px solid;\n    padding: 10px;\n    border-radius: 5px;\n    text-transform: uppercase;\n    text-decoration: none;\n    background: #545a5e;\n    color: #f1eff3;\n    transition: 0.2s;\n\n    > * {\n      transition: 0.2s;\n    }\n\n    ${isLink\n      ? css`\n          :hover {\n            filter: brightness(1.1);\n\n            > * {\n              transform: translateY(-1px);\n            }\n          }\n        `\n      : css`\n          cursor: default;\n        `}\n  `}\n`\n\nexport const LinkIcon = styled.div`\n  display: grid;\n  margin-right: 10px;\n`\n","import { GitHub as GitHubIcon } from '@material-ui/icons'\n\nimport { LinkWrapper, LinkIcon } from './style'\n\nexport default function LinkComponent({ name, link }) {\n  return (\n    <LinkWrapper isLink={!!link} href={link} target='_blank' rel='noreferrer'>\n      {link && (\n        <LinkIcon>\n          <GitHubIcon />\n        </LinkIcon>\n      )}\n\n      <div>{name}</div>\n    </LinkWrapper>\n  )\n}\n","import axios from 'axios'\nimport { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport InfoIcon from '@material-ui/icons/Info'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { useTranslation } from 'react-i18next'\nimport { useMediaQuery } from '@material-ui/core'\nimport { echoHost } from 'utils/Hosts'\n\nimport LinkComponent from './LinkComponent'\nimport { DialogWrapper, HeaderSection, ThanksSection, Section, FooterSection } from './style'\n\nexport default function AboutDialog() {\n  const { t } = useTranslation()\n  const [open, setOpen] = useState(false)\n  const [torrServerVersion, setTorrServerVersion] = useState('')\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\n  useEffect(() => {\n    axios.get(echoHost()).then(({ data }) => setTorrServerVersion(data))\n  }, [])\n\n  return (\n    <>\n      <ListItem button key='Settings' onClick={() => setOpen(true)}>\n        <ListItemIcon>\n          <InfoIcon />\n        </ListItemIcon>\n        <ListItemText primary={t('About')} />\n      </ListItem>\n\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby='form-dialog-title'\n        fullScreen={fullScreen}\n        maxWidth='xl'\n      >\n        <DialogWrapper>\n          <HeaderSection>\n            <div>{t('About')}</div>\n            {torrServerVersion}\n            <img src='/apple-touch-icon.png' alt='ts-icon' />\n          </HeaderSection>\n\n          <div style={{ overflow: 'auto' }}>\n            <ThanksSection>{t('ThanksToEveryone')}</ThanksSection>\n\n            <Section>\n              <span>{t('Links')}</span>\n\n              <div>\n                <LinkComponent name={t('ProjectSource')} link='https://github.com/YouROK/TorrServer' />\n                <LinkComponent name={t('Releases')} link='https://github.com/YouROK/TorrServer/releases' />\n              </div>\n            </Section>\n\n            <Section>\n              <span>{t('SpecialThanks')}</span>\n\n              <div>\n                <LinkComponent name='Daniel Shleifman' link='https://github.com/dancheskus' />\n                <LinkComponent name='Matt Joiner' link='https://github.com/anacrolix' />\n                <LinkComponent name='nikk' link='https://github.com/tsynik' />\n                <LinkComponent name='tw1cker  ' link='https://github.com/Nemiroff' />\n                <LinkComponent name='SpAwN_LMG' link='https://github.com/spawnlmg' />\n              </div>\n            </Section>\n          </div>\n\n          <FooterSection>\n            <Button onClick={() => setOpen(false)} color='primary' variant='contained'>\n              {t('Close')}\n            </Button>\n          </FooterSection>\n        </DialogWrapper>\n      </Dialog>\n    </>\n  )\n}\n","import { useState } from 'react'\nimport { Button, Dialog, DialogActions, DialogTitle, ListItem, ListItemIcon, ListItemText } from '@material-ui/core'\nimport { PowerSettingsNew as PowerSettingsNewIcon } from '@material-ui/icons'\nimport { shutdownHost } from 'utils/Hosts'\nimport { useTranslation } from 'react-i18next'\n\nexport default function CloseServer({ isOffline, isLoading }) {\n  const { t } = useTranslation()\n  const [open, setOpen] = useState(false)\n  const closeDialog = () => setOpen(false)\n  const openDialog = () => setOpen(true)\n\n  return (\n    <>\n      <ListItem disabled={isOffline || isLoading} button key={t('CloseServer')} onClick={openDialog}>\n        <ListItemIcon>\n          <PowerSettingsNewIcon />\n        </ListItemIcon>\n\n        <ListItemText primary={t('CloseServer')} />\n      </ListItem>\n\n      <Dialog open={open} onClose={closeDialog}>\n        <DialogTitle>{t('CloseServer?')}</DialogTitle>\n        <DialogActions>\n          <Button variant='outlined' onClick={closeDialog} color='secondary'>\n            {t('Cancel')}\n          </Button>\n\n          <Button\n            variant='contained'\n            onClick={() => {\n              fetch(shutdownHost())\n              closeDialog()\n            }}\n            color='secondary'\n            autoFocus\n          >\n            {t('TurnOff')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import Divider from '@material-ui/core/Divider'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { CreditCard as CreditCardIcon } from '@material-ui/icons'\nimport List from '@material-ui/core/List'\nimport { useTranslation } from 'react-i18next'\nimport AddDialogButton from 'components/Add'\nimport SettingsDialog from 'components/Settings'\nimport RemoveAll from 'components/RemoveAll'\nimport AboutDialog from 'components/About'\nimport CloseServer from 'components/CloseServer'\nimport { memo } from 'react'\n\nimport { AppSidebarStyle } from './style'\n\nconst Sidebar = ({ isDrawerOpen, setIsDonationDialogOpen, isOffline, isLoading }) => {\n  const { t } = useTranslation()\n\n  return (\n    <AppSidebarStyle isDrawerOpen={isDrawerOpen}>\n      <List>\n        <AddDialogButton isOffline={isOffline} isLoading={isLoading} />\n\n        <RemoveAll isOffline={isOffline} isLoading={isLoading} />\n      </List>\n\n      <Divider />\n\n      <List>\n        <SettingsDialog isOffline={isOffline} isLoading={isLoading} />\n\n        <AboutDialog />\n\n        <ListItem button onClick={() => setIsDonationDialogOpen(true)}>\n          <ListItemIcon>\n            <CreditCardIcon />\n          </ListItemIcon>\n\n          <ListItemText primary={t('Donate')} />\n        </ListItem>\n\n        <CloseServer isOffline={isOffline} isLoading={isLoading} />\n      </List>\n    </AppSidebarStyle>\n  )\n}\n\nexport default memo(Sidebar)\n","import CssBaseline from '@material-ui/core/CssBaseline'\nimport { createContext, useEffect, useState } from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n  Menu as MenuIcon,\n  Close as CloseIcon,\n  Brightness4 as Brightness4Icon,\n  Brightness5 as Brightness5Icon,\n  BrightnessAuto as BrightnessAutoIcon,\n} from '@material-ui/icons'\nimport { echoHost } from 'utils/Hosts'\nimport Div100vh from 'react-div-100vh'\nimport axios from 'axios'\nimport TorrentList from 'components/TorrentList'\nimport DonateSnackbar from 'components/Donate'\nimport DonateDialog from 'components/Donate/DonateDialog'\nimport useChangeLanguage from 'utils/useChangeLanguage'\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles'\nimport { ThemeProvider as StyledComponentsThemeProvider } from 'styled-components'\nimport { useQuery } from 'react-query'\nimport { getTorrents } from 'utils/Utils'\nimport GlobalStyle from 'style/GlobalStyle'\n\nimport { AppWrapper, AppHeader, HeaderToggle } from './style'\nimport Sidebar from './Sidebar'\nimport { lightTheme, THEME_MODES, useMaterialUITheme } from '../../style/materialUISetup'\nimport getStyledComponentsTheme from '../../style/getStyledComponentsTheme'\n\nexport const DarkModeContext = createContext()\n\nexport default function App() {\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false)\n  const [isDonationDialogOpen, setIsDonationDialogOpen] = useState(false)\n  const [torrServerVersion, setTorrServerVersion] = useState('')\n\n  const [isDarkMode, currentThemeMode, updateThemeMode, muiTheme] = useMaterialUITheme()\n  const [currentLang, changeLang] = useChangeLanguage()\n  const [isOffline, setIsOffline] = useState(false)\n  const { data: torrents, isLoading } = useQuery('torrents', getTorrents, {\n    retry: 1,\n    refetchInterval: 1000,\n    onError: () => setIsOffline(true),\n    onSuccess: () => setIsOffline(false),\n  })\n\n  useEffect(() => {\n    axios.get(echoHost()).then(({ data }) => setTorrServerVersion(data))\n  }, [])\n\n  return (\n    <>\n      <GlobalStyle />\n\n      <DarkModeContext.Provider value={{ isDarkMode }}>\n        <MuiThemeProvider theme={muiTheme}>\n          <StyledComponentsThemeProvider\n            theme={getStyledComponentsTheme(isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT)}\n          >\n            <CssBaseline />\n\n            {/* Div100vh - iOS WebKit fix  */}\n            <Div100vh>\n              <AppWrapper>\n                <AppHeader>\n                  <IconButton\n                    style={{ marginRight: '20px' }}\n                    color='inherit'\n                    onClick={() => setIsDrawerOpen(!isDrawerOpen)}\n                    edge='start'\n                  >\n                    {isDrawerOpen ? <CloseIcon /> : <MenuIcon />}\n                  </IconButton>\n\n                  <Typography variant='h6' noWrap>\n                    TorrServer {torrServerVersion}\n                  </Typography>\n\n                  <div\n                    style={{ justifySelf: 'end', display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '10px' }}\n                  >\n                    <HeaderToggle\n                      onClick={() => {\n                        if (currentThemeMode === THEME_MODES.LIGHT) updateThemeMode(THEME_MODES.DARK)\n                        if (currentThemeMode === THEME_MODES.DARK) updateThemeMode(THEME_MODES.AUTO)\n                        if (currentThemeMode === THEME_MODES.AUTO) updateThemeMode(THEME_MODES.LIGHT)\n                      }}\n                    >\n                      {currentThemeMode === THEME_MODES.LIGHT ? (\n                        <Brightness5Icon />\n                      ) : currentThemeMode === THEME_MODES.DARK ? (\n                        <Brightness4Icon />\n                      ) : (\n                        <BrightnessAutoIcon />\n                      )}\n                    </HeaderToggle>\n\n                    <HeaderToggle onClick={() => (currentLang === 'en' ? changeLang('ru') : changeLang('en'))}>\n                      {currentLang === 'en' ? 'RU' : 'EN'}\n                    </HeaderToggle>\n                  </div>\n                </AppHeader>\n\n                <Sidebar\n                  isOffline={isOffline}\n                  isLoading={isLoading}\n                  isDrawerOpen={isDrawerOpen}\n                  setIsDonationDialogOpen={setIsDonationDialogOpen}\n                />\n\n                <TorrentList isOffline={isOffline} torrents={torrents} isLoading={isLoading} />\n\n                <MuiThemeProvider theme={lightTheme}>\n                  {isDonationDialogOpen && <DonateDialog onClose={() => setIsDonationDialogOpen(false)} />}\n                </MuiThemeProvider>\n\n                {!JSON.parse(localStorage.getItem('snackbarIsClosed')) && <DonateSnackbar />}\n              </AppWrapper>\n            </Div100vh>\n          </StyledComponentsThemeProvider>\n        </MuiThemeProvider>\n      </DarkModeContext.Provider>\n    </>\n  )\n}\n","import { mainColors, themeColors } from './colors'\n\nexport default type => ({ ...themeColors[type], ...mainColors[type] })\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport translationEN from 'locales/en/translation.json'\nimport translationRU from 'locales/ru/translation.json'\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en', // default language will be used if none of declared lanuages detected (en, ru)\n    interpolation: { escapeValue: false }, // react already safes from xss\n    resources: { en: { translation: translationEN }, ru: { translation: translationRU } },\n  })\n\nexport default i18n\n","import { StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport { QueryClientProvider, QueryClient } from 'react-query'\n\nimport App from './components/App'\nimport 'i18n'\n\nconst queryClient = new QueryClient()\n\nReactDOM.render(\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}